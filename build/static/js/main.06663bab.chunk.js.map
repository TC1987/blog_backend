{"version":3,"sources":["components/Register/register.module.scss","components/Login/login.module.scss","components/Header/header.module.scss","components/BlogItem/blogitem.module.scss","components/BlogEdit/blogedit.module.scss","components/NewBlog/newblog.module.scss","components/Comments/comments.module.scss","components/CommentList/commentlist.module.scss","app.module.scss","components/BlogList/bloglist.module.scss","components/Blog/blog.module.scss","components/Dashboard/dashboard.module.scss","components/Header/Filter/filter.module.scss","components/Header/NavMenu/navmenu.module.scss","hooks/useField.js","services/login.js","reducers/userReducer.js","components/Login/Login.js","utils/token.js","services/blogs.js","reducers/blogReducer.js","reducers/messageReducer.js","components/BlogItem/BlogItem.js","components/BlogList/BlogList.js","components/Dashboard/Dashboard.js","components/NotFound/NotFound.js","services/users.js","components/Users/Users.js","components/User/User.js","components/Comments/Comments.js","services/comments.js","components/CommentList/CommentList.js","components/Blog/Blog.js","components/BlogEdit/BlogEdit.js","components/NewBlog/NewBlog.js","components/Register/Register.js","components/Header/Filter/Filter.js","reducers/filterReducer.js","reducers/sidebarReducer.js","components/Header/Header.js","components/Footer/Footer.js","components/Header/NavMenu/NavMenu.js","components/Sidebar/Sidebar.js","App.js","index.js","components/Sidebar/sidebar.module.scss"],"names":["module","exports","useField","type","placeholder","initialValue","useState","value","setValue","onChange","e","target","reset","attributes","login","credentials","a","async","axios","post","response","data","user_login","user","payload","userReducer","action","mapDispatchToProps","connect","props","email","password","emailError","setEmailError","passwordError","setPasswordError","className","styles","container","image","onSubmit","preventDefault","hasErrors","length","setTimeout","token","window","localStorage","setItem","JSON","stringify","console","log","form","form__field","validationError","form__button","form__button__login","bold","to","link","baseUrl","blogs_getAll","get","message","blogs_service_getOne","id","blogs_create","blog","options","headers","Authorization","getItem","error","blogs_service_update","blogId","url","put","blogs_service_delete","delete","blogs_init","blogs","blogs_add","blogs_update","updated_content","blogs_delete","blogReducer","index","findIndex","slice","concat","filter","message_update","messageReducer","state","title","content","author","likes","pictureUrl","comments","updatedAt","src","alt","content__image","text__date","timestamp","date","Date","getMonth","getDate","getFullYear","formatDate","text__title","text__content","formatContent","text__author","name","stats","stats__likes","stats__commentCount","useEffect","then","includes","map","key","BlogItem","NotFound","users_register","newUser","users_update","updateObject","userId","parse","patch","users","setUsers","users_getUsers","User","setUser","users_getUser","match","params","catch","err","Comments","comment","item","authorDate","item__author","item__date","item__content","addComment","setComments","commentError","setCommentError","getComments","newComment","authorName","savedComment","form__content","user_update","updatedUser","setBlog","views","editBlogLike","updatedBlog","updateUserProperty","addUser","op","field","removeUser","addBlog","removeBlog","likeBlog","unlikeBlog","content__date","content__title","content__authorTime","content__authorTime__author","content__authorTime__time","readTime","content__content","likes__text","likes__bold","actions","followedUsers","onClick","actions__follow","displayFollow","likedBlogs","actions__like","displayLike","savedBlogs","actions__save","displaySave","none","history","push","actions__edit","deletedBlog","handleDelete","actions__delete","setTitle","setContent","previousTitle","setPreviousTitle","setImage","titleError","setTitleError","contentError","setContentError","handleSubmit","formData","FormData","set","htmlFor","form__file__label","files","form__file","createdBlog","nameError","setNameError","userData","updateFilter","filterField","toggleSidebar","closeSidebar","isOpen","isSidebarOpen","ref","useRef","setBurgerRef","header","logo","menu","menu__responsive","menu__burger","hide","nav","button__link","Footer","user_logout","withRouter","menuStats","profile","profile__image","profile__name","profile__name__user","profile__name__thin","links","links__link","stats__item","logout","removeItem","handleMouseDown","burgerRef","current","firstChild","contains","document","addEventListener","removeEventListener","sidebar","show","reducedWidth","text","buttons","button","button___green","button___light","main","fixedPosition","exact","path","component","Dashboard","Users","Register","render","routeProps","BlogEdit","Blog","reducers","combineReducers","blogsReducer","store","createStore","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.06663bab.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"register_container__1j-3H\",\"image\":\"register_image__3TRaK\",\"form\":\"register_form__3dgpP\",\"form__field\":\"register_form__field__1eKyV\",\"form__button\":\"register_form__button__-odaS\",\"bold\":\"register_bold__3BFmw\",\"link\":\"register_link__1RSaf\",\"validationError\":\"register_validationError__3Iy0n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"login_container__2X9PK\",\"image\":\"login_image__1AiCp\",\"heading\":\"login_heading__3KtmN\",\"heading__bold\":\"login_heading__bold__22Vg5\",\"form\":\"login_form__2PLRu\",\"form__field\":\"login_form__field__3CzoO\",\"form__button\":\"login_form__button__D6UIy\",\"bold\":\"login_bold__ZI4Nt\",\"link\":\"login_link__26kum\",\"validationError\":\"login_validationError__3-kqB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__3fn4i\",\"container\":\"header_container__1p_To\",\"logo\":\"header_logo__14tHM\",\"menu\":\"header_menu__5m-DF\",\"menu__burger\":\"header_menu__burger__1Ttem\",\"menu__responsive\":\"header_menu__responsive__1CzeE\",\"menu__responsive__burger\":\"header_menu__responsive__burger__1ouWv\",\"link\":\"header_link__3Qf43\",\"nav\":\"header_nav__3OwU2\",\"hide\":\"header_hide__NVi7G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"blogitem_content__2hU47\",\"content__image\":\"blogitem_content__image__2_OwN\",\"text__date\":\"blogitem_text__date__3PuPL\",\"text__title\":\"blogitem_text__title__3vAaI\",\"text__content\":\"blogitem_text__content__2E9_Z\",\"text__author\":\"blogitem_text__author__2KkZF\",\"stats\":\"blogitem_stats__1MOOu\",\"stats__likes\":\"blogitem_stats__likes__3D4Zy\",\"stats__commentCount\":\"blogitem_stats__commentCount__1oZRY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"blogedit_container__2usZc\",\"form\":\"blogedit_form__2d9UO\",\"form__file\":\"blogedit_form__file__GfRCT\",\"form__file__label\":\"blogedit_form__file__label__3A2gG\",\"form__content\":\"blogedit_form__content__SARoq\",\"form__button\":\"blogedit_form__button__BBE5U\",\"message\":\"blogedit_message__y2jEy\",\"validationError\":\"blogedit_validationError__1kOTY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"newblog_container__VUhQU\",\"form\":\"newblog_form__YKZ_-\",\"form__file\":\"newblog_form__file__4_5Z5\",\"form__file__label\":\"newblog_form__file__label__CLfGS\",\"form__content\":\"newblog_form__content__9qbpi\",\"form__button\":\"newblog_form__button__33k4H\",\"message\":\"newblog_message__2Sxz8\",\"validationError\":\"newblog_validationError__2BjM1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"comments_container___gqop\",\"item\":\"comments_item__hJxOv\",\"authorDate\":\"comments_authorDate__1FMV_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"commentlist_container__2YbmO\",\"form\":\"commentlist_form__2hf5g\",\"form__content\":\"commentlist_form__content__PwMvL\",\"form__button\":\"commentlist_form__button__h5MVS\",\"validationError\":\"commentlist_validationError__3aP9N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"app_container__3FwrV\",\"main\":\"app_main__1NOZK\",\"fixedPosition\":\"app_fixedPosition__1KJpp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"bloglist_container__VIv8d\",\"blog\":\"bloglist_blog__18bdB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"blog_container__1yngQ\",\"content\":\"blog_content__3Mdwr\",\"content__title\":\"blog_content__title__1KPYd\",\"content__image\":\"blog_content__image__3vx0v\",\"content__date\":\"blog_content__date__2W8o9\",\"content__authorTime\":\"blog_content__authorTime__3UoGz\",\"content__content\":\"blog_content__content__2CJUX\",\"likes\":\"blog_likes__2wpbo\",\"likes__text\":\"blog_likes__text__1XXJj\",\"actions\":\"blog_actions__38f5o\",\"actions__follow\":\"blog_actions__follow__yuHh8\",\"actions__save\":\"blog_actions__save__3T0XJ\",\"actions__like\":\"blog_actions__like__1-Tvs\",\"actions__edit\":\"blog_actions__edit__3FSGp\",\"actions__delete\":\"blog_actions__delete__dgAIf\",\"none\":\"blog_none__2awqw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"dashboard_message__2ze2W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filterField\":\"filter_filterField__2oh5H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"navmenu_container__2wo4C\",\"menuStats\":\"navmenu_menuStats__kQ_sW\",\"profile\":\"navmenu_profile__2WvcC\",\"profile__image\":\"navmenu_profile__image__2d4Wc\",\"profile__name__thin\":\"navmenu_profile__name__thin__5HZwF\",\"profile__name__user\":\"navmenu_profile__name__user__1efZ1\",\"profile__name__status\":\"navmenu_profile__name__status__23xlR\",\"links\":\"navmenu_links__1OFMz\",\"links__link\":\"navmenu_links__link__m0tyZ\",\"stats__item\":\"navmenu_stats__item__XOSZo\",\"logout\":\"navmenu_logout__1Ym0e\"};","import { useState } from 'react';\n\nconst useField = (type, placeholder, initialValue = '') => {\n\tconst [value, setValue] = useState(initialValue);\n\n\tconst onChange = e => {\n\t\tsetValue(e.target.value);\n\t};\n\n\tconst reset = () => {\n\t\tsetValue(initialValue);\n\t};\n\n\treturn {\n\t\tattributes: {\n\t\t\ttype,\n\t\t\tplaceholder,\n\t\t\tvalue,\n\t\t\tonChange\n\t\t},\n\t\treset\n\t};\n};\n\nexport default useField;","import axios from 'axios';\n\nexport const login = async credentials => {\n\ttry {\n\t\tconst response = await axios.post('/login', credentials);\n\t\treturn response.data;\n\t} catch (err) {\n\t\tthrow err.response.data;\n\t}\n};","export const user_login = user => {\n\treturn {\n\t\ttype: 'USER_LOGIN',\n\t\tpayload: user\n\t};\n};\n\nexport const user_update = updatedUser => {\n\treturn {\n\t\ttype: 'USER_UPDATE',\n\t\tpayload: updatedUser\n\t}\n}\n\nexport const user_logout = () => {\n\treturn {\n\t\ttype: 'USER_LOGOUT'\n\t}\n}\n\nconst userReducer = (user = null, action) => {\n\tswitch (action.type) {\n\t\tcase 'USER_LOGIN':\n\t\tcase 'USER_UPDATE':\n\t\t\treturn action.payload;\n\t\tcase 'USER_LOGOUT':\n\t\t\treturn null;\n\t\tdefault:\n\t\t\treturn user;\n\t}\n};\n\nexport default userReducer;","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport useField from '../../hooks/useField';\nimport { login } from '../../services/login';\nimport { user_login } from '../../reducers/userReducer';\nimport { setToken } from '../../utils/token';\nimport styles from './login.module.scss';\n\nconst EMAIL_LENGTH = 5;\nconst PASSWORD_LENGTH = 5;\n\nconst Login = props => {\n\tconst email = useField('text', 'Email');\n\tconst password = useField('password', 'Password');\n\tconst [emailError, setEmailError] = useState('');\n\tconst [passwordError, setPasswordError] = useState('');\n\n\tconst handleSubmit = async e => {\n\t\te.preventDefault();\n\n\t\tlet hasErrors = false;\n\n\t\tif (email.attributes.value.length < EMAIL_LENGTH) {\n\t\t\tsetEmailError('Email must be at least 5 characters.');\n\t\t\thasErrors = true;\n\t\t}\n\n\t\tif (password.attributes.value.length < PASSWORD_LENGTH) {\n\t\t\tsetPasswordError('Password must be at least 5 characters.');\n\t\t\thasErrors = true;\n\t\t}\n\n\t\tif (hasErrors) {\n\t\t\tsetTimeout(() => setEmailError(''), 4000);\n\t\t\tsetTimeout(() => setPasswordError(''), 4000);\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst { user, token } = await login({\n\t\t\t\temail: email.attributes.value,\n\t\t\t\tpassword: password.attributes.value\n\t\t\t});\n\t\t\tprops.user_login(user);\n\t\t\tsetToken(token); // This isn't doing anything right now.\n\t\t\twindow.localStorage.setItem('token', token);\n\t\t\twindow.localStorage.setItem('user', JSON.stringify(user));\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\temail.reset();\n\t\t\tpassword.reset();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={ styles.container }>\n\t\t\t<div className={ styles.image }></div>\n\t\t\t{/* <h4 className={ styles.heading }><span className={ styles.heading__bold }>Welcome</span> Back</h4> */}\n\t\t\t<form onSubmit={ handleSubmit } className={ styles.form }>\n\t\t\t\t<input { ...email.attributes } className={ styles.form__field }></input>\n\t\t\t\t<input { ...password.attributes } className={ styles.form__field }></input>\n\t\t\t\t{ emailError && <p className={ styles.validationError }>{ emailError }</p>}\n\t\t\t\t{ passwordError && <p className={ styles.validationError }>{ passwordError }</p>}\n\t\t\t\t<button type=\"submit\" value=\"Login\" className={ `${styles.form__button} ${styles.form__button__login}` }>Login</button>\n\t\t\t</form>\n\t\t\t<p>Don't have an account? <span className={ styles.bold }><Link to={'/register'} className={ styles.link }>Register</Link></span></p>\n\t\t</div>\n\t);\n};\n\nconst mapDispatchToProps = {\n\tuser_login\n};\n\nexport default connect(null, mapDispatchToProps)(Login);","export let token;\n\nexport const setToken = jwt => {\n\ttoken = `Bearer ${jwt}`;\n};","import axios from 'axios';\n\nconst baseUrl = '/api/blogs';\n\nexport const blogs_getAll = async () => {\n\ttry {\n\t\tconst response = await axios.get(baseUrl);\n\t\treturn response.data;\n\t} catch (err) {\n\t\tthrow err.message;\n\t}\n};\n\nexport const blogs_service_getOne = async id => {\n\ttry {\n\t\tconst response = await axios.get(`${baseUrl}/${id}`);\n\t\treturn response.data;\n\t} catch (err) {\n\t\tthrow err.message;\n\t}\n};\n\nexport const blogs_create = async blog => {\n\tconst options = {\n\t\theaders: {\n\t\t\tAuthorization: `Bearer ${window.localStorage.getItem('token')}`\n\t\t}\n\t};\n\n\ttry {\n\t\tconst response = await axios.post(baseUrl, blog, options);\n\t\treturn response.data;\n\t} catch (err) {\n\t\tthrow err.response.data.error;\n\t}\n};\n\nexport const blogs_service_update = async (blogId, blog) => {\n\tconst url = `${baseUrl}/${blogId}`;\n\n\tconst options = {\n\t\theaders: {\n\t\t\tAuthorization: `Bearer ${window.localStorage.getItem('token')}`\n\t\t}\n\t};\n\n\ttry {\n\t\tconst response = await axios.put(url, blog, options);\n\t\treturn response.data;\n\t} catch (err) {\n\t\tthrow err.response.data.error;\n\t}\n};\n\nexport const blogs_service_delete = async id => {\n\tconst url = `${baseUrl}/${id}`;\n\tconst options = {\n\t\theaders: {\n\t\t\tAuthorization: `Bearer ${window.localStorage.getItem('token')}`\n\t\t}\n\t};\n\n\ttry {\n\t\tconst response = await axios.delete(url, options);\n\t\treturn response.data;\n\t} catch (err) {\n\t\tthrow err.message;\n\t}\n};","export const blogs_init = blogs => {\n\treturn {\n\t\ttype: 'BLOGS_INIT',\n\t\tpayload: blogs\n\t};\n};\n\nexport const blogs_add = blog => {\n\treturn {\n\t\ttype: 'BLOGS_ADD',\n\t\tpayload: blog\n\t};\n};\n\nexport const blogs_update = updated_content => {\n\treturn {\n\t\ttype: 'BLOGS_UPDATE',\n\t\tpayload: updated_content\n\t};\n};\n\nexport const blogs_delete = id => {\n\treturn {\n\t\ttype: 'BLOGS_DELETE',\n\t\tid\n\t};\n};\n\nconst blogReducer = (blogs = [], action) => {\n\tswitch (action.type) {\n\t\tcase 'BLOGS_INIT':\n\t\t\treturn [...action.payload];\n\t\tcase 'BLOGS_ADD':\n\t\t\treturn [...blogs, action.payload];\n\t\tcase 'BLOGS_UPDATE':\n\t\t\tconst index = blogs.findIndex(blog => blog.id === action.payload.id);\n\t\t\treturn blogs.slice(0, index).concat(action.payload).concat(blogs.slice(index + 1));\n\t\tcase 'BLOGS_DELETE':\n\t\t\treturn blogs.filter(blog => blog.id !== action.id);\n\t\tdefault:\n\t\t\treturn blogs;\n\t}\n};\n\nexport default blogReducer;","export const message_update = message => {\n\treturn {\n\t\ttype: 'MESSAGE_UPDATE',\n\t\tpayload: message\n\t}\n};\n\nconst messageReducer = (message = null, action) => {\n\tswitch (action.type) {\n\t\tcase 'MESSAGE_UPDATE':\n\t\t\treturn action.payload;\n\t\tdefault:\n\t\t\treturn message;\n\t}\n}\n\nexport default messageReducer;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport { blogs_update, blogs_delete } from '../../reducers/blogReducer';\nimport styles from './blogitem.module.scss';\n\nconst Blog = props => {\n\tconst { id, title, content, author, likes, pictureUrl, comments, updatedAt } = props.blog;\n\t\n\tconst formatDate = timestamp => {\n\t\tif (!timestamp) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst date = new Date(timestamp);\n\n\t\treturn `${date.getMonth() + 1}.${date.getDate()}.${date.getFullYear()}`;\n\t}\n\n\tconst formatContent = content => {\n\t\tif (content.length > 100) {\n\t\t\treturn `${content.slice(0, 100)}...`;\n\t\t}\n\n\t\treturn content;\n\t}\n\n\treturn (\n\t\t<div className={ styles.blog }>\n\t\t\t<div className={ styles.content }>\n\t\t\t\t{ pictureUrl && <Link to={`/blogs/${id}`}><img src={ pictureUrl } alt=\"uploaded-image\" className={ styles.content__image }></img></Link> }\n\t\t\t\t<p className={ styles.text__date }>{ formatDate(updatedAt) }</p>\n\t\t\t\t<p><Link to={`/blogs/${id}`} className={ styles.text__title }>{title}</Link></p>\n\t\t\t\t<p className={ styles.text__content }>{formatContent(content)}</p>\n\t\t\t\t<p className={ styles.text__author }>by {author.name}</p>\n\t\t\t</div>\n\t\t\t<div className={ styles.stats }>\n\t\t\t\t<p className={ styles.stats__likes }>Likes {likes}</p>\n\t\t\t\t<p className={ styles.stats__commentCount }>Comments {comments.length}</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tuser: state.user\n\t};\n};\n\nconst mapDispatchToProps = {\n\tblogs_update,\n\tblogs_delete\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Blog);","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\n\nimport { blogs_getAll } from '../../services/blogs';\n\nimport { blogs_init, blogs_add } from '../../reducers/blogReducer';\nimport { message_update } from '../../reducers/messageReducer';\n\nimport BlogItem from '../BlogItem/BlogItem';\n\nimport styles from './bloglist.module.scss';\n\nconst blogList = (blogs, filter) => {\n\tconst filteredBlogs = blogs.filter(blog => {\n\t\treturn blog.title.includes(filter);\n\t});\n\n\treturn filteredBlogs.map(blog => (\n\t\t<li key={blog.id} className={ styles.blog }>\n\t\t\t<BlogItem blog={blog} />\n\t\t</li>\n\t));\n};\n\nconst Blogs = props => {\n\tuseEffect(() => {\n\t\tblogs_getAll().then(blogs => {\n\t\t\tprops.blogs_init(blogs);\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<ul className={ styles.container }>\n\t\t\t{ blogList(props.blogs, props.filter) }\n\t\t</ul>\n\t);\n};\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tuser: state.user,\n\t\tblogs: state.blogs,\n\t\tmessage: state.message,\n\t\tfilter: state.filter\n\t};\n};\n\nconst mapDispatchToProps = {\n\tblogs_init,\n\tblogs_add,\n\tmessage_update\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Blogs);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport Blogs from '../BlogList/BlogList';\n\nimport styles from './dashboard.module.scss';\n\nconst Dashboard = props => {\n\treturn (\n\t\t<>\n\t\t\t{ props.message ? <p className={ styles.message }>{ props.message }</p> : null }\n\t\t\t<Blogs />\n\t\t</>\n\t);\n};\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tmessage: state.message\n\t};\n};\n\nexport default connect(mapStateToProps)(Dashboard);","import React from 'react';\n\nconst NotFound = () => {\n\treturn (\n\t\t<h1>Not Found</h1>\n\t);\n};\n\nexport default NotFound;","import axios from 'axios';\n\nconst baseUrl = '/api/users';\n\nexport const users_register = async newUser => {\n\ttry {\n\t\tconst response = await axios.post(`${baseUrl}`, newUser);\n\t\treturn response.data;\n\t} catch (err) {\n\t\tthrow err.response.data;\n\t}\n}\n\nexport const users_getUsers = async () => {\n\tconst response = await axios.get(baseUrl);\n\treturn response.data;\n};\n\nexport const users_getUser = async id => {\n\ttry {\n\t\tconst response = await axios.get(`${baseUrl}/${id}`);\n\t\treturn response.data;\n\t} catch (err) {\n\t\tthrow err.response.data;\n\t}\n};\n\nexport const users_update = async (updateObject) => {\n\tconst options = {\n\t\theaders: {\n\t\t\tAuthorization: `Bearer ${window.localStorage.getItem('token')}`\n\t\t}\n\t};\n\n\tconst userId = JSON.parse(window.localStorage.getItem('user')).id;\n\n\ttry {\n\t\tconst response = await axios.patch(`${baseUrl}/${userId}`, updateObject, options);\n\t\treturn response.data;\n\t} catch (err) {\n\t\tthrow err.response.data;\n\t}\t\n};","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport { users_getUsers } from '../../services/users';\n\nimport styles from './users.module.scss';\n\nconst Users = () => {\n\tconst [users, setUsers] = useState([]);\n\n\tuseEffect(() => {\n\t\tusers_getUsers()\n\t\t\t.then(users => setUsers(users));\n\t}, []);\n\n\tconst usersList = () => {\n\t\treturn (\n\t\t\tusers.map(user => (\n\t\t\t\t<tr key={ user.id }>\n\t\t\t\t\t<td><Link to={`/users/${user.id}`}>{ user.name }</Link></td>\n\t\t\t\t\t<td>{ user.blogs.length }</td>\n\t\t\t\t</tr>\n\t\t\t))\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className={ styles.container }>\n\t\t\t<h1>Users</h1>\n\t\t\t<table>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Users</th>\n\t\t\t\t\t\t<th>Blogs Created</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{ usersList() }\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tuser: state.user\n\t};\n};\n\nexport default connect(mapStateToProps)(Users);","import React, { useState, useEffect } from 'react';\n\nimport { users_getUser } from '../../services/users';\n\nconst User = props => {\n\tconst [user, setUser] = useState(null);\n\n\tconsole.log(user);\n\n\tuseEffect(() => {\n\t\tusers_getUser(props.match.params.id)\n\t\t\t.then(user => setUser(user))\n\t\t\t.catch(err => console.log(err));\n\t}, []);\n\n\tconst blogList = () => {\n\t\treturn user.blogs.map(blog => (\n\t\t\t<tr key={ blog.id }>\n\t\t\t\t<td>{ blog.title }</td>\n\t\t\t\t<td>{ blog.content }</td>\n\t\t\t\t<td>{ blog.likes }</td>\n\t\t\t</tr>\n\t\t));\n\t};\n\n\treturn user ?\n\t\t<>\n\t\t\t<p>{ user.name }'s Blogs</p>\n\t\t\t<table>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Title</th>\n\t\t\t\t\t\t<th>Content</th>\n\t\t\t\t\t\t<th>Likes</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{ blogList() }\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</>\n\t\t:\n\t\t<h1>Loading</h1>;\n};\n\nexport default User;","import React from 'react';\n\nimport styles from './comments.module.scss';\n\nconst Comments = ({ comments }) => {\n\tconst formatDate = timestamp => {\n\t\tif (!timestamp) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst date = new Date(timestamp);\n\n\t\treturn `${date.getMonth() + 1}.${date.getDate()}.${date.getFullYear()}`;\n\t}\n\n\treturn (\n\t\t<ul className={ styles.container }>\n\t\t\t{ comments.map(comment => (\n\t\t\t\t<li key={ comment.id } className={ styles.item }>\n\t\t\t\t\t<div className={ styles.authorDate }>\n\t\t\t\t\t\t<p className={ styles.item__author }>{ comment.author.name }</p>\n\t\t\t\t\t\t<p className={ styles.item__date }>{ formatDate(comment.date) }</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className={ styles.item__content }>{ comment.comment }</p>\n\t\t\t\t</li>\n\t\t\t)) }\n\t\t</ul>\n\t)\n}\n\nexport default Comments;","import axios from 'axios';\n\nexport const getComments = async id => {\n\tconst response = await axios.get(`/api/blogs/${id}/comments`);\n\treturn response.data;\n};\n\nexport const addComment = async (id, comment) => {\n\tconst response = await axios.post(`/api/blogs/${id}/comments`, comment);\n\treturn response.data;\n};","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\n\nimport Comments from '../Comments/Comments';\nimport useField from '../../hooks/useField';\nimport { getComments, addComment } from '../../services/comments';\nimport styles from './commentlist.module.scss';\n\nconst COMMENT_LENGTH = 3;\n\nconst CommentList = props => {\n\tconst [comments, setComments] = useState([]);\n\tconst comment = useField(null, 'Comment');\n\tconst [commentError, setCommentError] = useState('');\n\n\tuseEffect(() => {\n\t\tgetComments(props.id).then(comments => {\n\t\t\tsetComments(comments);\n\t\t});\n\t}, []);\n\n\tconst handleSubmit = async e => {\n\t\te.preventDefault();\n\n\t\tlet hasErrors = false;\n\n\t\tif (comment.attributes.value.length < COMMENT_LENGTH) {\n\t\t\tsetCommentError('Comment must be at least 3 characters.');\n\t\t\thasErrors = true;\n\t\t}\n\n\t\tif (hasErrors) {\n\t\t\tsetTimeout(() => setCommentError(''), 4000);\n\t\t\treturn;\n\t\t}\n\n\t\tconst newComment = {\n\t\t\tcomment: comment.attributes.value,\n\t\t\tauthor: props.user.id,\n\t\t\tauthorName: props.user.name\n\t\t};\n\n\t\tcomment.reset();\n\n\t\ttry {\n\t\t\tconst savedComment = await addComment(props.id, newComment);\n\t\t\tsavedComment.author = {\n\t\t\t\tid: savedComment.author,\n\t\t\t\tname: props.user.name\n\t\t\t}\n\t\t\tsetComments(comments => [...comments, savedComment]);\n\t\t} catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={ styles.container }>\n\t\t\t<Comments comments={ comments } />\n\t\t\t{ props.user &&\n\t\t\t\t<form onSubmit={ handleSubmit } className={ styles.form }>\n\t\t\t\t\t<textarea { ...comment.attributes} className={ styles.form__content } />\n\t\t\t\t\t{ commentError && <p className={ styles.validationError }>{ commentError }</p>}\n\t\t\t\t\t<button type=\"submit\" className={ styles.form__button }>Post Comment</button>\n\t\t\t\t</form>\n\t\t\t}\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tuser: state.user\n\t}\n}\n\nexport default connect(mapStateToProps)(CommentList);","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\n\nimport { blogs_service_getOne, blogs_service_update, blogs_service_delete } from '../../services/blogs';\nimport { users_update } from '../../services/users';\nimport { blogs_update, blogs_delete } from '../../reducers/blogReducer';\nimport { user_update } from '../../reducers/userReducer';\nimport { message_update } from '../../reducers/messageReducer';\nimport CommentList from '../CommentList/CommentList';\nimport styles from './blog.module.scss';\n\nconst SingleBlog = props => {\n\tconst [blog, setBlog] = useState(null);\n\tconst { user, user_update } = props;\n\n\tuseEffect(() => {\n\t\tblogs_service_getOne(props.match.params.id)\n\t\t\t.then(blog => {\n\t\t\t\tsetBlog(blog);\n\t\t\t\tblogs_service_update(blog.id, {\n\t\t\t\t\t...blog,\n\t\t\t\t\tviews: blog.views + 1\n\t\t\t\t});\n\t\t\t\treturn () => {\n\t\t\t\t\tconsole.log('Component has been unmounted');\n\t\t\t\t}\n\t\t\t});\n\t}, []);\n\n\tconst handleDelete = async id => {\n\t\ttry {\n\t\t\tconst deletedBlog = await blogs_service_delete(id);\n\t\t\tprops.blogs_delete(deletedBlog.id);\n\t\t\tprops.message_update(`${ blog.title } has been deleted.`);\n\t\t\tsetTimeout(() => props.message_update(null), 3000);\n\t\t\tprops.history.push('/');\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\tprops.message_update(`There was an error deleting the blog.`);\n\t\t\tsetTimeout(() => props.message_update(null), 3000);\n\t\t}\n\t};\n\n\tconst editBlogLike = async (blog, type) => {\n\t\tlet updatedBlog = {\n\t\t\t...blog,\n\t\t};\n\n\t\tif (type === 'INCREMENT') {\n\t\t\tupdatedBlog.likes = updatedBlog.likes + 1;\n\t\t} else {\n\t\t\tupdatedBlog.likes = updatedBlog.likes - 1;\n\t\t}\n\n\t\tupdatedBlog = await blogs_service_update(blog.id, updatedBlog);\n\t\tsetBlog(updatedBlog);\n\t};\n\n\tconst updateUserProperty = async updateObject => {\n\t\tconst updatedUser = await users_update(updateObject);\n\t\tuser_update(updatedUser);\n\t\twindow.localStorage.setItem('user', JSON.stringify(updatedUser));\n\t}\n\n\tconst { addUser, removeUser, addBlog, removeBlog, likeBlog, unlikeBlog } = {\n\t\taddUser: userId => ({\n\t\t\top: '$push',\n\t\t\tfield: 'followedUsers',\n\t\t\tvalue: userId\n\t\t}),\n\t\tremoveUser: userId => ({\n\t\t\top: '$pull',\n\t\t\tfield: 'followedUsers',\n\t\t\tvalue: userId\n\t\t}),\n\t\taddBlog: blogId => ({\n\t\t\top: '$push',\n\t\t\tfield: 'savedBlogs',\n\t\t\tvalue: blogId\n\t\t}),\n\t\tremoveBlog: blogId => ({\n\t\t\top: '$pull',\n\t\t\tfield: 'savedBlogs',\n\t\t\tvalue: blogId\n\t\t}),\n\t\tlikeBlog: blogId => ({\n\t\t\top: '$push',\n\t\t\tfield: 'likedBlogs',\n\t\t\tvalue: blogId\n\t\t}),\n\t\tunlikeBlog: blogId => ({\n\t\t\top: '$pull',\n\t\t\tfield: 'likedBlogs',\n\t\t\tvalue: blogId\n\t\t})\n\t}\n\n\tconst displayFollow = userId => {\n\t\tif (!user) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst authorIndex = user.followedUsers.findIndex(id => id === userId);\n\n\t\tif (authorIndex === -1) {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\tonClick={ () => updateUserProperty(addUser(userId)) }\n\t\t\t\t\tclassName={ styles.actions__follow }\n\t\t\t\t>\n\t\t\t\t\tFollow\n\t\t\t\t</button>\n\t\t\t)\n\t\t}\n\t\t\n\t\treturn (\n\t\t\t<button\n\t\t\t\tonClick={ () => updateUserProperty(removeUser(userId)) }\n\t\t\t\tclassName={ styles.actions__follow }\n\t\t\t>\n\t\t\t\tUnfollow\n\t\t\t</button>\n\t\t)\n\t}\n\n\tconst displaySave = (blogId) => {\n\t\tif (!user) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst blogIndex = user.savedBlogs.findIndex(id => id === blogId);\n\n\t\tif (blogIndex === -1) {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\tonClick={ () => updateUserProperty(addBlog(blogId)) } \n\t\t\t\t\tclassName={ styles.actions__save }\n\t\t\t\t>\n\t\t\t\t\tSave\n\t\t\t\t</button>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\tonClick={ () => updateUserProperty(removeBlog(blogId)) }\n\t\t\t\tclassName={ styles.actions__save }\t\n\t\t\t>\n\t\t\t\tUnsave\n\t\t\t</button>\n\t\t)\n\t}\n\n\tconst displayLike = blog => {\n\t\tif (!user) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst blogIndex = user.likedBlogs.findIndex(id => id === blog.id);\n\n\t\tif (blogIndex === -1) {\n\t\t\treturn (\n\t\t\t\t<button onClick={ () => {\n\t\t\t\t\tupdateUserProperty(likeBlog(blog.id));\n\t\t\t\t\teditBlogLike(blog, 'INCREMENT');\n\t\t\t\t} } className={ styles.actions__like }>\n\t\t\t\t\tLike\n\t\t\t\t</button>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<button onClick={ () => {\n\t\t\t\tupdateUserProperty(unlikeBlog(blog.id));\n\t\t\t\teditBlogLike(blog, 'DECREMENT');\n\t\t\t} } className={ styles.actions__like }>\n\t\t\t\tUnlike\n\t\t\t</button>\n\t\t)\n\t}\n\n\tconst formatDate = timestamp => {\n\t\tif (!timestamp) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst date = new Date(timestamp);\n\n\t\treturn `${date.getMonth() + 1}.${date.getDate()}.${date.getFullYear()}`;\n\t}\n\n\tconst displayNotAuthorActions = _ => {\n\t\treturn (\n\t\t\t<div className={ styles.actions } >\n\t\t\t\t{ user && user.id !== blog.author.id && displayFollow(blog.author.id) }\n\t\t\t\t{ user && user.id !== blog.author.id && displayLike(blog) }\t\n\t\t\t\t{ user && user.id !== blog.author.id && displaySave(blog.id) }\n\t\t\t</div>\n\t\t)\n\t}\n\n\tconst displayAuthorActions = _ => (\n\t\t<div className={ `${ user && user.id === blog.author.id ? styles.actions : styles.none }` }>\n\t\t\t<button onClick={ () => props.history.push(`/blogs/${ blog.id }/edit`) } className={ styles.actions__edit }>\n\t\t\t\tEdit\n\t\t\t</button>\n\t\t\t<button onClick={ () => handleDelete(blog.id) } className={ styles.actions__delete }>\n\t\t\t\tDelete\n\t\t\t</button>\n\t\t</div>\n\t)\n\n\treturn blog &&\n\t\t<div className={ styles.container }>\n\t\t\t<div className={ styles.content }>\n\t\t\t\t{ blog.pictureUrl && <img src={ blog.pictureUrl } alt=\"uploaded-image\" className={ styles.content__image }></img> }\n\t\t\t\t<p className={ styles.content__date }>{ formatDate(blog.updatedAt) }</p>\n\t\t\t\t<h1 className={ styles.content__title }>{ blog.title }</h1>\n\t\t\t\t<div className={ styles.content__authorTime }>\n\t\t\t\t\t<p className={ styles.content__authorTime__author }>By { blog.author.name }</p>\n\t\t\t\t\t<p className={ styles.content__authorTime__time }>{ blog.readTime } min read</p>\n\t\t\t\t</div>\n\t\t\t\t<p className={ styles.content__content }>{ blog.content }</p>\n\t\t\t</div>\n\t\t\t<div className={ styles.likes }>\n\t\t\t\t<p className={ styles.likes__text }>{ blog.likes } <span className={ styles.likes__bold }>likes</span></p>\n\t\t\t</div>\n\t\t\t{ user && user.id !== blog.author.id && displayNotAuthorActions() }\n\t\t\t{ user && user.id === blog.author.id && displayAuthorActions() }\n\t\t\t<CommentList id={ blog.id } />\n\t\t</div>\n};\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tuser: state.user,\n\t\tblogs: state.blogs\n\t};\n};\n\nconst mapDispatchToProps = {\n\tblogs_update,\n\tblogs_delete,\n\tuser_update,\n\tmessage_update\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SingleBlog);","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\n\nimport { blogs_service_getOne, blogs_service_update } from '../../services/blogs';\nimport { message_update } from '../../reducers/messageReducer';\nimport { blogs_update } from '../../reducers/blogReducer';\nimport styles from './blogedit.module.scss';\n\nconst TITLE_LENGTH = 3;\nconst CONTENT_LENGTH = 3;\n\nconst BlogEdit = props => {\n\tconst [title, setTitle] = useState('');\n\tconst [content, setContent] = useState('');\n\tconst [previousTitle, setPreviousTitle] = useState('');\n\tconst [image, setImage] = useState(null);\n\tconst [titleError, setTitleError] = useState('');\n\tconst [contentError, setContentError] = useState('');\n\n\tuseEffect(() => {\n\t\tblogs_service_getOne(props.match.params.id)\n\t\t.then(blog => {\n\t\t\tsetTitle(blog.title);\n\t\t\tsetContent(blog.content);\n\t\t\tsetPreviousTitle(blog.title);\n\t\t})\n\t}, []);\n\n\tconst handleSubmit = async e => {\n\t\te.preventDefault();\n\n\t\tlet hasErrors = false;\n\n\t\tif (title.length < TITLE_LENGTH) {\n\t\t\tsetTitleError('Title must be at least 3 characters.');\n\t\t\thasErrors = true;\n\t\t}\n\n\t\tif (content.length < CONTENT_LENGTH) {\n\t\t\tsetContentError('Content must be at least 3 characters.');\n\t\t\thasErrors = true;\n\t\t}\n\n\t\tif (hasErrors) {\n\t\t\tsetTimeout(() => setTitleError(''), 4000);\n\t\t\tsetTimeout(() => setContentError(''), 4000);\n\t\t\treturn;\n\t\t}\n\n\t\tconst formData = new FormData();\n\n\t\tformData.set('title', title);\n\t\tformData.set('content', content);\n\t\tformData.set('image', image);\n\t\tformData.set('author', props.user.id);\n\n\t\ttry {\n\t\t\tconst updatedBlog = await blogs_service_update(props.match.params.id, formData);\n\n\t\t\tprops.blogs_update(updatedBlog);\n\t\t\tprops.message_update(`${ previousTitle } updated to ${ title }`);\n\t\t\tsetTimeout(() => props.message_update(null), 3000);\n\t\t\tprops.history.push(`/blogs/${ props.match.params.id }`);\n\t\t} catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t\tprops.message_update(err);\n\t\t\tsetTimeout(() => props.message_update(null), 3000);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={ styles.container }>\n\t\t\t{ props.message && <p className={ styles.message }>{ props.message }</p> }\n\t\t\t<form onSubmit={ handleSubmit } className={ styles.form }>\n\t\t\t\t<input type='text' value={ title } onChange={ e =>  setTitle(e.target.value) }></input>\n\t\t\t\t{ titleError && <p className={ styles.validationError }>{ titleError }</p>}\n\t\t\t\t<textarea value={ content } onChange={ e => setContent(e.target.value) } className={ styles.form__content }></textarea>\n\t\t\t\t{ contentError && <p className={ styles.validationError }>{ contentError }</p>}\n\t\t\t\t<label htmlFor=\"file_upload\" className={ styles.form__file__label }>{ image ? image.name : 'Choose File' }</label>\n\t\t\t\t<input type=\"file\" name=\"image\" id=\"file_upload\" onChange={ e => setImage(e.target.files[0]) } className={ styles.form__file }></input>\n\t\t\t\t<button type=\"submit\" className={ styles.form__button } onClick={ handleSubmit }>Update Post</button>\n\t\t\t</form >\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = state => ({\n\tuser: state.user,\n\tmessage: state.message\n});\n\nconst mapDispatchToProps = {\n\tmessage_update,\n\tblogs_update\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BlogEdit);","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport { blogs_create } from '../../services/blogs';\nimport { blogs_add } from '../../reducers/blogReducer';\nimport { message_update } from '../../reducers/messageReducer';\nimport useField from '../../hooks/useField';\nimport styles from './newblog.module.scss';\n\nconst TITLE_LENGTH = 3;\nconst CONTENT_LENGTH = 3;\n\nconst NewBlog = props => {\n\tconst title = useField('text', 'Title');\n\tconst content = useField(null, 'Content');\n\tconst [image, setImage] = useState(null);\n\tconst [titleError, setTitleError] = useState('');\n\tconst [contentError, setContentError] = useState('');\n\n\tconst fileChange = e => {\n\t\tsetImage(e.target.files[0]);\n\t}\n\n\tconst handleSubmit = async e => {\n\t\te.preventDefault();\n\n\t\tlet hasErrors = false;\n\n\t\tif (title.attributes.value.length < TITLE_LENGTH) {\n\t\t\tsetTitleError('Title must be at least 3 characters.');\n\t\t\thasErrors = true;\n\t\t}\n\n\t\tif (content.attributes.value.length < CONTENT_LENGTH) {\n\t\t\tsetContentError('Content must be at least 3 characters.');\n\t\t\thasErrors = true;\n\t\t}\n\n\t\tif (hasErrors) {\n\t\t\tsetTimeout(() => setTitleError(''), 4000);\n\t\t\tsetTimeout(() => setContentError(''), 4000);\n\t\t\treturn;\n\t\t}\n\n\t\tconst formData = new FormData();\n\t\tformData.set('title', title.attributes.value);\n\t\tformData.set('content', content.attributes.value);\n\t\tformData.set('image', image);\n\t\tformData.set('author', props.user.id)\n\n\t\ttry {\n\t\t\tconst createdBlog = await blogs_create(formData);\n\n\t\t\tprops.blogs_add(createdBlog);\n\t\t\tprops.message_update(`New Blog Created: ${ title.attributes.value }`);\n\t\t\tsetTimeout(() => props.message_update(null), 3000);\n\t\t\ttitle.reset();\n\t\t\tcontent.reset();\n\t\t\tprops.history.push(`/`);\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\tprops.message_update(err);\n\t\t\tsetTimeout(() => props.message_update(null), 3000);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={ styles.container }>\n\t\t\t{ props.message && <p className={ styles.message }>{ props.message }</p> }\n\t\t\t<form onSubmit={handleSubmit} className={ styles.form }>\n\t\t\t\t<input {...title.attributes}></input>\n\t\t\t\t{ titleError && <p className={ styles.validationError }>{ titleError }</p>}\n\t\t\t\t<textarea {...content.attributes} className={ styles.form__content }></textarea>\n\t\t\t\t{ contentError && <p className={ styles.validationError }>{ contentError }</p>}\n\t\t\t\t<label htmlFor=\"file_upload\" className={ styles.form__file__label }>{ image ? image.name : 'Choose File' }</label>\n\t\t\t\t<input type=\"file\" name=\"image\" id=\"file_upload\" onChange={ fileChange } className={ styles.form__file }></input>\n\t\t\t\t<button type=\"submit\" className={ styles.form__button } onClick={ handleSubmit }>Create Post</button>\n\t\t\t</form >\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = state => ({\n\tuser: state.user,\n\tmessage: state.message\n});\n\nconst mapDispatchToProps = {\n\tblogs_add,\n\tmessage_update\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewBlog);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport { users_register } from '../../services/users';\nimport { user_login } from '../../reducers/userReducer';\nimport { message_update } from '../../reducers/messageReducer';\n\nimport useField from '../../hooks/useField';\n\nimport styles from './register.module.scss';\n\nconst NAME_LENGTH = 3;\nconst EMAIL_LENGTH = 5;\nconst PASSWORD_LENGTH = 5;\n\nconst Register = props => {\n\tconst name = useField('text', 'Name');\n\tconst email = useField('email', 'Email');\n\tconst password = useField('password', 'Password');\n\tconst [nameError, setNameError] = useState('');\n\tconst [emailError, setEmailError] = useState('');\n\tconst [passwordError, setPasswordError] = useState('');\n\n\tconst register = async e => {\n\t\te.preventDefault();\n\n\t\tlet hasErrors = false;\n\n\t\tif (name.attributes.value.length < NAME_LENGTH) {\n\t\t\tsetNameError('Name must be at least 3 characters.');\n\t\t\thasErrors = true;\n\t\t}\n\n\t\tif (email.attributes.value.length < EMAIL_LENGTH) {\n\t\t\tsetEmailError('Email must be at least 5 characters.');\n\t\t\thasErrors = true;\n\t\t}\n\n\t\tif (password.attributes.value.length < PASSWORD_LENGTH) {\n\t\t\tsetPasswordError('Password must be at least 5 characters.');\n\t\t\thasErrors = true;\n\t\t}\n\n\t\tif (hasErrors) {\n\t\t\tsetTimeout(() => setNameError(''), 4000);\n\t\t\tsetTimeout(() => setEmailError(''), 4000);\n\t\t\tsetTimeout(() => setPasswordError(''), 4000);\n\t\t\treturn;\n\t\t}\n\n\t\tconst userData = {\n\t\t\tname: name.attributes.value,\n\t\t\temail: email.attributes.value,\n\t\t\tpassword: password.attributes.value\n\t\t}\n\n\t\ttry {\n\t\t\tconst { user, token } = await users_register(userData);\n\t\t\tprops.user_login(user);\n\t\t\twindow.localStorage.setItem('token', token);\n\t\t\twindow.localStorage.setItem('user', JSON.stringify(user));\n\t\t\tprops.message_update(`Welcome to BlogWorld ${user.name}.`);\n\t\t\tsetTimeout(() => props.message_update(''), 3000);\n\t\t\tprops.history.push('/');\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\tname.reset();\n\t\t\temail.reset();\n\t\t\tpassword.reset();\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className={ styles.container }>\n\t\t\t<div className={ styles.image }></div>\n\t\t\t<form onSubmit={ register } className={ styles.form }>\n\t\t\t\t<input { ...name.attributes } className={ styles.form__field } />\n\t\t\t\t<input { ...email.attributes } className={ styles.form__field } />\n\t\t\t\t<input { ...password.attributes } className={ styles.form__field }/>\n\t\t\t\t{ nameError && <p className={ styles.validationError }>{ nameError }</p>}\n\t\t\t\t{ emailError && <p className={ styles.validationError }>{ emailError }</p>}\n\t\t\t\t{ passwordError && <p className={ styles.validationError }>{ passwordError }</p>}\n\t\t\t\t<button type=\"submit\" value=\"Register\" className={ `${styles.form__button} ${styles.form__button__login}` }>Register</button>\n\t\t\t</form>\n\t\t\t<p>Already have an account? <span className={ styles.bold }><Link to={'/login'} className={ styles.link }>Login</Link></span></p>\n\t\t</div>\n\t)\n}\n\nconst mapDispatchToProps = {\n\tuser_login,\n\tmessage_update\n};\n\nexport default connect(null, mapDispatchToProps)(Register);","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { updateFilter } from '../../../reducers/filterReducer';\nimport styles from './filter.module.scss';\n\nconst Filter = ({ filter, updateFilter}) => {\n\treturn (\n\t\t<input type=\"text\" id=\"filter\" value={ filter } onChange={ e => updateFilter(e.target.value) } className={ styles.filterField } placeholder=\"Search\"></input>\n\t);\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tfilter: state.filter\n\t}\n};\n\nconst mapDispatchToProps = {\n\tupdateFilter\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Filter);","export const updateFilter = filter => {\n\treturn {\n\t\ttype: 'UPDATE_FILTER',\n\t\tpayload: filter\n\t}\n}\n\nexport default (state = '', action) => {\n\tswitch (action.type) {\n\t\tcase 'UPDATE_FILTER':\n\t\t\treturn action.payload;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}","export const toggleSidebar = () => {\n\treturn {\n\t\ttype: 'TOGGLE_SIDEBAR'\n\t}\n}\n\nexport const closeSidebar = () => {\n\treturn {\n\t\ttype: 'CLOSE_SIDEBAR'\n\t}\n}\n\nexport default (state = false, action) => {\n\tswitch (action.type) {\n\t\tcase 'TOGGLE_SIDEBAR':\n\t\t\treturn !state;\n\t\tcase 'CLOSE_SIDEBAR':\n\t\t\treturn false;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}","import React, { useEffect, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport '@animated-burgers/burger-squeeze/dist/styles.css';\nimport Burger from '@animated-burgers/burger-squeeze';\n\nimport Filter from './Filter/Filter';\nimport { toggleSidebar } from '../../reducers/sidebarReducer';\nimport styles from './header.module.scss';\n\nconst Header = props => {\n\tconst ref = useRef();\n\n\tuseEffect(() => {\n\t\tprops.setBurgerRef(ref);\n\t}, [])\n\n\treturn (\n\t\t<header className={ styles.header }>\n\t\t\t<div className={ styles.container }>\n\t\t\t\t<div className={ styles.logo }><Link to='/' className={ styles.link }>TIL</Link></div>\n\t\t\t\t<Filter />\n\t\t\t\t<div ref={ ref } className={ props.user ? styles.menu : styles.menu__responsive }>\n\t\t\t\t\t<Burger className={ styles.menu__burger } isOpen={ props.isOpen } onClick={ props.toggleSidebar } />\n\t\t\t\t</div>\n\t\t\t\t<nav className={ props.user ? styles.hide : styles.nav }>\n\t\t\t\t\t<Link to={ '/login' } className={ styles.button__link }>Login</Link>\n\t\t\t\t\t<Link to={ '/register' } className={ styles.button__link }>Register</Link>\n\t\t\t\t</nav>\n\t\t\t\t\n\t\t\t</div>\n\t\t</header>\n\t)\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tisOpen: state.isSidebarOpen,\n\t\tuser: state.user\n\t}\n}\n\nconst mapDispatchToProps = {\n\ttoggleSidebar\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\n","import React from 'react';\n\nconst Footer = () => {\n\treturn (\n\t\t<footer></footer>\n\t)\n}\n\nexport default Footer;","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport styles from './navmenu.module.scss';\nimport { user_logout } from '../../../reducers/userReducer';\nimport { closeSidebar } from '../../../reducers/sidebarReducer';\n\nconst NavMenu = props => {\n\tconst logout = () => {\n\t\twindow.localStorage.removeItem('user');\n\t\twindow.localStorage.removeItem('token');\n\t\tprops.user_logout();\n\t\tprops.closeSidebar();\n\t\tprops.history.push('/');\n\t};\n\n\treturn (\n\t\t<nav className={ styles.container }>\n\t\t\t<div className={ styles.menuStats }>\n\t\t\t\t<div className={ styles.profile }>\n\t\t\t\t\t<div className={ styles.profile__image }></div>\n\t\t\t\t\t<div className={ styles.profile__name}>\n\t\t\t\t\t\t<h4 className={ styles.profile__name__user }><span className={ styles.profile__name__thin }>Hi, </span>{ props.user.name }</h4>\n\t\t\t\t\t\t{/* <p className={ styles.profile__name__status }>Developer</p> */}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={ styles.links }>\n\t\t\t\t\t<Link to='/blogs/new' className={ styles.links__link } onClick={ props.closeSidebar }>New Post</Link>\n\t\t\t\t\t<Link to='/' className={ styles.links__link } onClick={ props.closeSidebar }>Blogs</Link>\n\t\t\t\t\t{/* <Link to='/users' className={ styles.links__link }>Users</Link> */}\n\t\t\t\t</div>\n\t\t\t\t<div className={ styles.stats }>\n\t\t\t\t\t<div className={ styles.stats__item }>\n\t\t\t\t\t\t<p>Blog Count:</p>\n\t\t\t\t\t\t<p>{ props.user.blogs.length }</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={ styles.stats__item }>\n\t\t\t\t\t\t<p>Liked Count:</p>\n\t\t\t\t\t\t<p>{ props.user.likedBlogs.length }</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={ styles.stats__item }>\n\t\t\t\t\t\t<p>Following Count:</p>\n\t\t\t\t\t\t<p>{ props.user.followedUsers.length }</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<button className={ styles.logout } onClick={ logout }>Sign Out</button>\n\t\t</nav>\n\t);\n};\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tuser: state.user\n\t}\n}\n\nconst mapDispatchToProps = {\n\tuser_logout,\n\tcloseSidebar\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(NavMenu));","import React, { useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport NavMenu from '../Header/NavMenu/NavMenu';\nimport { toggleSidebar, closeSidebar } from '../../reducers/sidebarReducer';\nimport styles from './sidebar.module.scss';\n\nconst Sidebar = props => {\n\tconst ref = useRef();\n\n\t// this runs before which closes the sidebar regardless, and then the toggler opens it. that's why always open\n\tconst handleMouseDown = e => {\n\t\tif (props.burgerRef.current.firstChild === e.target) {\n\t\t\treturn;\n\t\t}\n\t\tif (ref.current && !ref.current.contains(e.target)) {\n\t\t\tprops.closeSidebar();\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('mousedown', handleMouseDown);\n\t\t\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('mousedown', handleMouseDown);\n\t\t}\n\t})\n\n\treturn (\n\t\t<div ref={ ref } className={ `${ styles.sidebar } ${ props.isOpen ? styles.show : null } ${ props.user ? styles.reducedWidth : null }`}>\n\t\t\t{ props.user ? \n\t\t\t\t<NavMenu />\n\t\t\t\t:\n\t\t\t\t<div className={ styles.container }>\n\t\t\t\t\t<div className={ styles.text }>\n\t\t\t\t\t\t<h4 className={ styles.text__title }>Welcome to TIL</h4>\n\t\t\t\t\t\t<p className={ styles.text__content }>We're a community of aspiring developers sharing our knowledge and experience hoping that someone will walk away learning something new.</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={ styles.buttons } onClick={ props.toggleSidebar }>\n\t\t\t\t\t\t<button className={ `${styles.button} ${styles.button___green}` }><Link to={'/login'} className={ styles.button__link }>Login</Link></button>\n\t\t\t\t\t\t<button className={ `${styles.button} ${styles.button___light}`}><Link to={'/register'} className={ styles.button__link }>Register</Link></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t}\n\t\t</div>\n\t)\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tisOpen: state.isSidebarOpen,\n\t\tuser: state.user\n\t}\n}\n\nconst mapDispatchToProps = {\n\ttoggleSidebar,\n\tcloseSidebar\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar);","import React, { useEffect, useState } from 'react';\nimport styles from './app.module.scss';\nimport { connect } from 'react-redux';\nimport { BrowserRouter, Route, Redirect, Switch } from 'react-router-dom';\n\nimport Login from './components/Login/Login';\nimport Dashboard from './components/Dashboard/Dashboard';\nimport NotFound from './components/NotFound/NotFound';\nimport Users from './components/Users/Users';\nimport User from './components/User/User';\nimport Blog from './components/Blog/Blog';\nimport BlogEdit from './components/BlogEdit/BlogEdit';\nimport NewBlog from './components/NewBlog/NewBlog';\nimport Register from './components/Register/Register';\nimport Header from './components/Header/Header';\nimport Footer from './components/Footer/Footer';\nimport Sidebar from './components/Sidebar/Sidebar';\n\nimport { user_login } from './reducers/userReducer';\nimport { blogs_init } from './reducers/blogReducer';\n\nimport { blogs_getAll } from './services/blogs';\n\nconst App = props => {\n\tconst [burgerRef, setBurgerRef] = useState(null);\n\n\tuseEffect(() => {\n\t\tlet user = window.localStorage.getItem('user');\n\t\t// let token = window.localStorage.getItem('token');\n\n\t\tif (user) {\n\t\t\tprops.user_login(JSON.parse(user));\n\t\t}\n\n\t\tblogs_getAll().then(blogs => {\n\t\t\tprops.blogs_init(blogs);\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<BrowserRouter>\n\t\t\t<div className={ styles.container }>\n\t\t\t\t<Header setBurgerRef={ setBurgerRef } />\n\t\t\t\t<div className={ `${ styles.main } ${ props.isOpen ? styles.fixedPosition : '' }` }>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path='/' component={Dashboard} />\n\t\t\t\t\t\t<Route exact path='/users' component={Users} />\n\t\t\t\t\t\t<Route exact path='/blogs' component={Dashboard} />\n\t\t\t\t\t\t<Route exact path='/register' component={Register} />\n\t\t\t\t\t\t<Route path='/login' render={() => props.user ? <Redirect to='/' /> : <Login />} />\n\t\t\t\t\t\t<Route path='/blogs/new' render={routeProps => props.user ? <NewBlog {...routeProps} /> : <Redirect to='/' />} />\n\t\t\t\t\t\t<Route path='/users/:id' component={User} />\n\t\t\t\t\t\t<Route exact path='/blogs/:id/edit' component={BlogEdit} />\n\t\t\t\t\t\t<Route path='/blogs/:id' component={Blog} />\n\t\t\t\t\t\t<Route component={NotFound} />\n\t\t\t\t\t</Switch>\n\t\t\t\t\t<Sidebar burgerRef={ burgerRef } />\n\t\t\t\t</div>\n\t\t\t\t<Footer />\n\t\t\t</div>\n\t\t</BrowserRouter>\n\t);\n};\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tuser: state.user,\n\t\tisOpen: state.isSidebarOpen\n\t};\n};\n\nconst mapDispatchToProps = {\n\tuser_login,\n\tblogs_init\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.module.scss';\nimport App from './App';\nimport { createStore, combineReducers } from 'redux';\nimport { Provider } from 'react-redux';\n\nimport userReducer from './reducers/userReducer';\nimport blogsReducer from './reducers/blogReducer';\nimport messageReducer from './reducers/messageReducer';\nimport filterReducer from './reducers/filterReducer';\nimport sidebarReducer from './reducers/sidebarReducer';\n\nconst reducers = combineReducers({\n\tuser: userReducer,\n\tblogs: blogsReducer,\n\tmessage: messageReducer,\n\tfilter: filterReducer,\n\tisSidebarOpen: sidebarReducer \n});\n\nconst store = createStore(reducers);\n\nReactDOM.render(\n\t<Provider store={ store }>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"sidebar_sidebar__2UqRw\",\"reducedWidth\":\"sidebar_reducedWidth__18WAP\",\"show\":\"sidebar_show__2_qeQ\",\"login\":\"sidebar_login__2XVpq\",\"separator\":\"sidebar_separator__2mNNd\",\"container\":\"sidebar_container__1TYtp\",\"text\":\"sidebar_text__L6eD-\",\"text__title\":\"sidebar_text__title__3hJK_\",\"text__content\":\"sidebar_text__content__1qes2\",\"buttons\":\"sidebar_buttons__1jQc9\",\"button\":\"sidebar_button__1U7Fy\",\"button___green\":\"sidebar_button___green__3UXtY\",\"button___light\":\"sidebar_button___light__3-YD3\",\"button__link\":\"sidebar_button__link__3ksTB\"};"],"sourceRoot":""}