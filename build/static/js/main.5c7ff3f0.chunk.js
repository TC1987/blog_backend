(this.webpackJsonpfinal_frontend=this.webpackJsonpfinal_frontend||[]).push([[0],{10:function(e,t,a){e.exports={sidebar:"sidebar_sidebar__2UqRw",reducedWidth:"sidebar_reducedWidth__18WAP",show:"sidebar_show__2_qeQ",login:"sidebar_login__2XVpq",separator:"sidebar_separator__2mNNd",container:"sidebar_container__1TYtp",text:"sidebar_text__L6eD-",text__title:"sidebar_text__title__3hJK_",text__content:"sidebar_text__content__1qes2",buttons:"sidebar_buttons__1jQc9",button:"sidebar_button__1U7Fy",button___green:"sidebar_button___green__3UXtY",button___light:"sidebar_button___light__3-YD3",button__link:"sidebar_button__link__3ksTB"}},101:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),c=a.n(o),s=(a(72),a(4)),l=a(34),u=a.n(l),i=a(3),_=a(6),m=a(23),d=a(1),f=a.n(d),b=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=Object(n.useState)(a),o=Object(s.a)(r,2),c=o[0],l=o[1],u=function(e){l(e.target.value)},i=function(){l(a)};return{attributes:{type:e,placeholder:t,value:c,onChange:u},reset:i}},p=a(8),g=a.n(p),E=function(e){var t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.awrap(g.a.post("/login",e));case 3:return t=a.sent,a.abrupt("return",t.data);case 7:throw a.prev=7,a.t0=a.catch(0),a.t0.response.data;case 10:case"end":return a.stop()}}),null,null,[[0,7]])},v=function(e){return{type:"USER_LOGIN",payload:e}},h=function(){return{type:"USER_LOGOUT"}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":case"USER_UPDATE":return t.payload;case"USER_LOGOUT":return null;default:return e}},w=a(16),O=a.n(w),x=(a(94),{user_login:v}),k=Object(i.b)(null,x)((function(e){var t=b("text","Email"),a=b("password","Password"),o=Object(n.useState)(""),c=Object(s.a)(o,2),l=c[0],u=c[1],i=Object(n.useState)(""),m=Object(s.a)(i,2),d=m[0],p=m[1];return r.a.createElement("div",{className:O.a.container},r.a.createElement("div",{className:O.a.image}),r.a.createElement("form",{onSubmit:function(n){var r,o,c,s;return f.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(n.preventDefault(),r=!1,t.attributes.value.length<5&&(u("Email must be at least 5 characters."),r=!0),a.attributes.value.length<5&&(p("Password must be at least 5 characters."),r=!0),!r){l.next=8;break}return setTimeout((function(){return u("")}),4e3),setTimeout((function(){return p("")}),4e3),l.abrupt("return");case 8:return l.prev=8,l.next=11,f.a.awrap(E({email:t.attributes.value,password:a.attributes.value}));case 11:o=l.sent,c=o.user,s=o.token,e.user_login(c),"Bearer ".concat(s),window.localStorage.setItem("token",s),window.localStorage.setItem("user",JSON.stringify(c)),l.next=25;break;case 20:l.prev=20,l.t0=l.catch(8),console.log(l.t0),t.reset(),a.reset();case 25:case"end":return l.stop()}}),null,null,[[8,20]])},className:O.a.form},r.a.createElement("input",Object.assign({},t.attributes,{className:O.a.form__field})),r.a.createElement("input",Object.assign({},a.attributes,{className:O.a.form__field})),l&&r.a.createElement("p",{className:O.a.validationError},l),d&&r.a.createElement("p",{className:O.a.validationError},d),r.a.createElement("button",{type:"submit",value:"Login",className:"".concat(O.a.form__button," ").concat(O.a.form__button__login)},"Login")),r.a.createElement("p",null,"Don't have an account? ",r.a.createElement("span",{className:O.a.bold},r.a.createElement(_.b,{to:"/register",className:O.a.link},"Register"))))})),S="/api/blogs",j=function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.awrap(g.a.get(S));case 3:return e=t.sent,t.abrupt("return",e.data);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0.message;case 10:case"end":return t.stop()}}),null,null,[[0,7]])},y=function(e){var t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.awrap(g.a.get("".concat(S,"/").concat(e)));case 3:return t=a.sent,a.abrupt("return",t.data);case 7:throw a.prev=7,a.t0=a.catch(0),a.t0.message;case 10:case"end":return a.stop()}}),null,null,[[0,7]])},T=function(e){var t,a;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("token"))}},n.prev=1,n.next=4,f.a.awrap(g.a.post(S,e,t));case 4:return a=n.sent,n.abrupt("return",a.data);case 8:throw n.prev=8,n.t0=n.catch(1),n.t0.response.data.error;case 11:case"end":return n.stop()}}),null,null,[[1,8]])},C=function(e,t){var a,n,r;return f.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return a="".concat(S,"/").concat(e),n={headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("token"))}},o.prev=2,o.next=5,f.a.awrap(g.a.put(a,t,n));case 5:return r=o.sent,o.abrupt("return",r.data);case 9:throw o.prev=9,o.t0=o.catch(2),o.t0.response.data.error;case 12:case"end":return o.stop()}}),null,null,[[2,9]])},B=function(e){var t,a,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t="".concat(S,"/").concat(e),a={headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("token"))}},r.prev=2,r.next=5,f.a.awrap(g.a.delete(t,a));case 5:return n=r.sent,r.abrupt("return",n.data);case 9:throw r.prev=9,r.t0=r.catch(2),r.t0.message;case 12:case"end":return r.stop()}}),null,null,[[2,9]])},D=a(30),U=function(e){return{type:"BLOGS_INIT",payload:e}},I=function(e){return{type:"BLOGS_ADD",payload:e}},L=function(e){return{type:"BLOGS_UPDATE",payload:e}},R=function(e){return{type:"BLOGS_DELETE",id:e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BLOGS_INIT":return Object(D.a)(t.payload);case"BLOGS_ADD":return[].concat(Object(D.a)(e),[t.payload]);case"BLOGS_UPDATE":var a=e.findIndex((function(e){return e.id===t.payload.id}));return e.slice(0,a).concat(t.payload).concat(e.slice(a+1));case"BLOGS_DELETE":return e.filter((function(e){return e.id!==t.id}));default:return e}},A=function(e){return{type:"MESSAGE_UPDATE",payload:e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MESSAGE_UPDATE":return t.payload;default:return e}},G=a(31),M=a(18),W=a.n(M),J={blogs_update:L,blogs_delete:R},Z=Object(i.b)((function(e){return{user:e.user}}),J)((function(e){var t=e.blog,a=t.id,n=t.title,o=t.content,c=t.author,s=t.likes,l=t.pictureUrl,u=t.comments,i=(t.readTime,t.updatedAt);e.user;return r.a.createElement("div",{className:W.a.blog},r.a.createElement("div",{className:W.a.content},l&&r.a.createElement(_.b,{to:"/blogs/".concat(a)},r.a.createElement("img",{src:l,alt:"image",className:W.a.content__image})),r.a.createElement("p",{className:W.a.text__date},function(e){if(e){var t=new Date(e);return"".concat(t.getMonth()+1,".").concat(t.getDate(),".").concat(t.getFullYear())}}(i)),r.a.createElement("p",null,r.a.createElement(_.b,{to:"/blogs/".concat(a),className:W.a.text__title},n)),r.a.createElement("p",{className:W.a.text__content},function(e){return e.length>100?"".concat(e.slice(0,100),"..."):e}(o)),r.a.createElement("p",{className:W.a.text__author},"by ",c.name)),r.a.createElement("div",{className:W.a.stats},r.a.createElement("p",{className:W.a.stats__likes},"Likes ",s),r.a.createElement("p",{className:W.a.stats__commentCount},"Comments ",u.length)))})),z=a(40),Y=a.n(z),K={blogs_init:U,blogs_add:I,message_update:A},q=Object(i.b)((function(e){return{user:e.user,blogs:e.blogs,message:e.message,filter:e.filter}}),K)((function(e){return Object(n.useEffect)((function(){j().then((function(t){e.blogs_init(t)}))}),[]),r.a.createElement("ul",{className:Y.a.container},(t=e.blogs,a=e.filter,t.filter((function(e){return e.title.includes(a)})).map((function(e){return r.a.createElement("li",{key:e.id,className:Y.a.blog},r.a.createElement(Z,{blog:e}))}))));var t,a})),V=a(56),X=a.n(V),H=Object(i.b)((function(e){return{message:e.message}}))((function(e){return r.a.createElement(r.a.Fragment,null,e.message?r.a.createElement("p",{className:X.a.message},e.message):null,r.a.createElement(q,null))})),Q=function(){return r.a.createElement("h1",null,"Not Found")},$=function(e){var t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.awrap(g.a.post("".concat("/api/users"),e));case 3:return t=a.sent,a.abrupt("return",t.data);case 7:throw a.prev=7,a.t0=a.catch(0),a.t0.response.data;case 10:case"end":return a.stop()}}),null,null,[[0,7]])},ee=function(e){var t,a,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t={headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("token"))}},a=JSON.parse(window.localStorage.getItem("user")).id,r.prev=2,r.next=5,f.a.awrap(g.a.patch("".concat("/api/users","/").concat(a),e,t));case 5:return n=r.sent,r.abrupt("return",n.data);case 9:throw r.prev=9,r.t0=r.catch(2),r.t0.response.data;case 12:case"end":return r.stop()}}),null,null,[[2,9]])},te=a(57),ae=a.n(te),ne=Object(i.b)((function(e){return{user:e.user}}))((function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)((function(){(function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(g.a.get("/api/users"));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))})().then((function(e){return o(e)}))}),[]);return r.a.createElement("div",{className:ae.a.container},r.a.createElement("h1",null,"Users"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Users"),r.a.createElement("th",null,"Blogs Created"))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(_.b,{to:"/users/".concat(e.id)},e.name)),r.a.createElement("td",null,e.blogs.length))})))))})),re=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),o=a[0],c=a[1];console.log(o),Object(n.useEffect)((function(){(function(e){var t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.awrap(g.a.get("".concat("/api/users","/").concat(e)));case 3:return t=a.sent,a.abrupt("return",t.data);case 7:throw a.prev=7,a.t0=a.catch(0),a.t0.response.data;case 10:case"end":return a.stop()}}),null,null,[[0,7]])})(e.match.params.id).then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}),[]);return o?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,o.name,"'s Blogs"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Content"),r.a.createElement("th",null,"Likes"))),r.a.createElement("tbody",null,o.blogs.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.content),r.a.createElement("td",null,e.likes))}))))):r.a.createElement("h1",null,"Loading")},oe=a(25),ce=a.n(oe),se=function(e){var t=e.comments;return r.a.createElement("ul",{className:ce.a.container},t.map((function(e){return r.a.createElement("li",{key:e.id,className:ce.a.item},r.a.createElement("div",{className:ce.a.authorDate},r.a.createElement("p",{className:ce.a.item__author},e.author.name),r.a.createElement("p",{className:ce.a.item__date},function(e){if(e){var t=new Date(e);return"".concat(t.getMonth()+1,".").concat(t.getDate(),".").concat(t.getFullYear())}}(e.date))),r.a.createElement("p",{className:ce.a.item__content},e.comment))})))},le=function(e,t){var a;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(g.a.post("/api/blogs/".concat(e,"/comments"),t));case 2:return a=n.sent,n.abrupt("return",a.data);case 4:case"end":return n.stop()}}))},ue=a(26),ie=a.n(ue),_e=Object(i.b)((function(e){return{user:e.user}}))((function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),o=a[0],c=a[1],l=b(null,"Comment"),u=Object(n.useState)(""),i=Object(s.a)(u,2),_=i[0],m=i[1];Object(n.useEffect)((function(){(function(e){var t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(g.a.get("/api/blogs/".concat(e,"/comments")));case 2:return t=a.sent,a.abrupt("return",t.data);case 4:case"end":return a.stop()}}))})(e.id).then((function(e){c(e)}))}),[]);return r.a.createElement("div",{className:ie.a.container},r.a.createElement(se,{comments:o}),e.user&&r.a.createElement("form",{onSubmit:function(t){var a,n,r;return f.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t.preventDefault(),a=!1,l.attributes.value.length<3&&(m("Comment must be at least 3 characters."),a=!0),!a){o.next=6;break}return setTimeout((function(){return m("")}),4e3),o.abrupt("return");case 6:return n={comment:l.attributes.value,author:e.user.id,authorName:e.user.name},l.reset(),o.prev=8,o.next=11,f.a.awrap(le(e.id,n));case 11:(r=o.sent).author={id:r.author,name:e.user.name},c((function(e){return[].concat(Object(D.a)(e),[r])})),o.next=19;break;case 16:o.prev=16,o.t0=o.catch(8),console.log(o.t0.message);case 19:case"end":return o.stop()}}),null,null,[[8,16]])},className:ie.a.form},r.a.createElement("textarea",Object.assign({},l.attributes,{className:ie.a.form__content})),_&&r.a.createElement("p",{className:ie.a.validationError},_),r.a.createElement("button",{type:"submit",className:ie.a.form__button},"Post Comment")))})),me=a(7),de=a.n(me),fe=(a(96),{blogs_update:L,blogs_delete:R,user_update:function(e){return{type:"USER_UPDATE",payload:e}},message_update:A}),be=Object(i.b)((function(e){return{user:e.user,blogs:e.blogs}}),fe)((function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(!1),u=Object(s.a)(l,2),i=(u[0],u[1],Object(n.useState)("")),_=Object(s.a)(i,2),m=(_[0],_[1],Object(n.useState)("")),d=Object(s.a)(m,2),b=(d[0],d[1],e.user),p=e.user_update;Object(n.useEffect)((function(){y(e.match.params.id).then((function(e){return c(e),C(e.id,Object(G.a)({},e,{views:e.views+1})),function(){console.log("Component has been unmounted")}}))}),[]);var g=function(e,t){var a;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return(a=Object(G.a)({},e)).likes="INCREMENT"===t?a.likes+1:a.likes-1,n.next=4,f.a.awrap(C(e.id,a));case 4:a=n.sent,c(a);case 6:case"end":return n.stop()}}))},E=function(e){var t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(ee(e));case 2:t=a.sent,p(t),window.localStorage.setItem("user",JSON.stringify(t));case 5:case"end":return a.stop()}}))},v=function(e){return{op:"$push",field:"followedUsers",value:e}},h=function(e){return{op:"$pull",field:"followedUsers",value:e}},N=function(e){return{op:"$push",field:"savedBlogs",value:e}},w=function(e){return{op:"$pull",field:"savedBlogs",value:e}},O=function(e){return{op:"$push",field:"likedBlogs",value:e}},x=function(e){return{op:"$pull",field:"likedBlogs",value:e}};return o&&r.a.createElement("div",{className:de.a.container},r.a.createElement("div",{className:de.a.content},o.pictureUrl&&r.a.createElement("img",{src:o.pictureUrl,className:de.a.content__image}),r.a.createElement("p",{className:de.a.content__date},function(e){if(e){var t=new Date(e);return"".concat(t.getMonth()+1,".").concat(t.getDate(),".").concat(t.getFullYear())}}(o.updatedAt)),r.a.createElement("h1",{className:de.a.content__title},o.title),r.a.createElement("div",{className:de.a.content__authorTime},r.a.createElement("p",{className:de.a.content__authorTime__author},"By ",o.author.name),r.a.createElement("p",{className:de.a.content__authorTime__time},o.readTime," min read")),r.a.createElement("p",{className:de.a.content__content},o.content)),r.a.createElement("div",{className:de.a.likes},r.a.createElement("p",{className:de.a.likes__text},o.likes," ",r.a.createElement("span",{className:de.a.likes__bold},"likes"))),b&&b.id!==o.author.id&&r.a.createElement("div",{className:de.a.actions},b&&b.id!==o.author.id&&function(e){if(b)return-1===b.followedUsers.findIndex((function(t){return t===e}))?r.a.createElement("button",{onClick:function(){return E(v(e))},className:de.a.actions__follow},"Follow"):r.a.createElement("button",{onClick:function(){return E(h(e))},className:de.a.actions__follow},"Unfollow")}(o.author.id),b&&b.id!==o.author.id&&function(e){if(b)return-1===b.likedBlogs.findIndex((function(t){return t===e.id}))?r.a.createElement("button",{onClick:function(){E(O(e.id)),g(e,"INCREMENT")},className:de.a.actions__like},"Like"):r.a.createElement("button",{onClick:function(){E(x(e.id)),g(e,"DECREMENT")},className:de.a.actions__like},"Unlike")}(o),b&&b.id!==o.author.id&&function(e){if(b)return-1===b.savedBlogs.findIndex((function(t){return t===e}))?r.a.createElement("button",{onClick:function(){return E(N(e))},className:de.a.actions__save},"Save"):r.a.createElement("button",{onClick:function(){return E(w(e))},className:de.a.actions__save},"Unsave")}(o.id)),b&&b.id===o.author.id&&r.a.createElement("div",{className:"".concat(b&&b.id===o.author.id?de.a.actions:de.a.none)},r.a.createElement("button",{onClick:function(){return e.history.push("/blogs/".concat(o.id,"/edit"))},className:de.a.actions__edit},"Edit"),r.a.createElement("button",{onClick:function(){return function(t){var a;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.a.awrap(B(t));case 3:a=n.sent,e.blogs_delete(a.id),e.message_update("".concat(o.title," has been deleted.")),setTimeout((function(){return e.message_update(null)}),3e3),e.history.push("/"),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0),e.message_update("There was an error deleting the blog."),setTimeout((function(){return e.message_update(null)}),3e3);case 15:case"end":return n.stop()}}),null,null,[[0,10]])}(o.id)},className:de.a.actions__delete},"Delete")),r.a.createElement(_e,{id:o.id}))})),pe=a(20),ge=a.n(pe),Ee={message_update:A,blogs_update:L},ve=Object(i.b)((function(e){return{user:e.user,message:e.message}}),Ee)((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(""),u=Object(s.a)(l,2),i=u[0],_=u[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),b=d[0],p=d[1],g=Object(n.useState)(null),E=Object(s.a)(g,2),v=E[0],h=E[1],N=Object(n.useState)(""),w=Object(s.a)(N,2),O=w[0],x=w[1],k=Object(n.useState)(""),S=Object(s.a)(k,2),j=S[0],T=S[1];Object(n.useEffect)((function(){y(e.match.params.id).then((function(e){c(e.title),_(e.content),p(e.title)}))}),[]);var B=function(t){var a,n,r;return f.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(t.preventDefault(),a=!1,o.length<3&&(x("Title must be at least 3 characters."),a=!0),i.length<3&&(T("Content must be at least 3 characters."),a=!0),!a){c.next=8;break}return setTimeout((function(){return x("")}),4e3),setTimeout((function(){return T("")}),4e3),c.abrupt("return");case 8:return(n=new FormData).set("title",o),n.set("content",i),n.set("image",v),n.set("author",e.user.id),c.prev=13,c.next=16,f.a.awrap(C(e.match.params.id,n));case 16:r=c.sent,e.blogs_update(r),e.message_update("".concat(b," updated to ").concat(o)),setTimeout((function(){return e.message_update(null)}),3e3),e.history.push("/blogs/".concat(e.match.params.id)),c.next=28;break;case 23:c.prev=23,c.t0=c.catch(13),console.log(c.t0.message),e.message_update(c.t0),setTimeout((function(){return e.message_update(null)}),3e3);case 28:case"end":return c.stop()}}),null,null,[[13,23]])};return r.a.createElement("div",{className:ge.a.container},e.message&&r.a.createElement("p",{className:ge.a.message},e.message),r.a.createElement("form",{onSubmit:B,className:ge.a.form},r.a.createElement("input",{type:"text",value:o,onChange:function(e){return c(e.target.value)}}),O&&r.a.createElement("p",{className:ge.a.validationError},O),r.a.createElement("textarea",{value:i,onChange:function(e){return _(e.target.value)},className:ge.a.form__content}),j&&r.a.createElement("p",{className:ge.a.validationError},j),r.a.createElement("label",{htmlFor:"file_upload",className:ge.a.form__file__label},v?v.name:"Choose File"),r.a.createElement("input",{type:"file",name:"image",id:"file_upload",onChange:function(e){return h(e.target.files[0])},className:ge.a.form__file}),r.a.createElement("button",{type:"submit",className:ge.a.form__button,onClick:B},"Update Post")))})),he=a(21),Ne=a.n(he),we={blogs_add:I,message_update:A},Oe=Object(i.b)((function(e){return{user:e.user,message:e.message}}),we)((function(e){var t=b("text","Title"),a=b(null,"Content"),o=Object(n.useState)(null),c=Object(s.a)(o,2),l=c[0],u=c[1],i=Object(n.useState)(""),_=Object(s.a)(i,2),m=_[0],d=_[1],p=Object(n.useState)(""),g=Object(s.a)(p,2),E=g[0],v=g[1],h=function(n){var r,o,c,s;return f.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(console.log("asd"),n.preventDefault(),r=!1,t.attributes.value.length<3&&(d("Title must be at least 3 characters."),r=!0),a.attributes.value.length<3&&(v("Content must be at least 3 characters."),r=!0),!r){u.next=9;break}return setTimeout((function(){return d("")}),4e3),setTimeout((function(){return v("")}),4e3),u.abrupt("return");case 9:return(o=new FormData).set("title",t.attributes.value),o.set("content",a.attributes.value),o.set("image",l),o.set("author",e.user.id),c=t.attributes.value,a.attributes.value,u.prev=16,u.next=19,f.a.awrap(T(o));case 19:s=u.sent,e.blogs_add(s),e.message_update("New Blog Created: ".concat(c)),setTimeout((function(){return e.message_update(null)}),3e3),t.reset(),a.reset(),e.history.push("/"),u.next=33;break;case 28:u.prev=28,u.t0=u.catch(16),console.log(u.t0),e.message_update(u.t0),setTimeout((function(){return e.message_update(null)}),3e3);case 33:case"end":return u.stop()}}),null,null,[[16,28]])};return r.a.createElement("div",{className:Ne.a.container},e.message&&r.a.createElement("p",{className:Ne.a.message},e.message),r.a.createElement("form",{onSubmit:h,className:Ne.a.form},r.a.createElement("input",t.attributes),m&&r.a.createElement("p",{className:Ne.a.validationError},m),r.a.createElement("textarea",Object.assign({},a.attributes,{className:Ne.a.form__content})),E&&r.a.createElement("p",{className:Ne.a.validationError},E),r.a.createElement("label",{htmlFor:"file_upload",className:Ne.a.form__file__label},l?l.name:"Choose File"),r.a.createElement("input",{type:"file",name:"image",id:"file_upload",onChange:function(e){u(e.target.files[0])},className:Ne.a.form__file}),r.a.createElement("button",{type:"submit",className:Ne.a.form__button,onClick:h},"Create Post")))})),xe=a(12),ke=a.n(xe),Se={user_login:v,message_update:A},je=Object(i.b)(null,Se)((function(e){var t=b("text","Name"),a=b("email","Email"),o=b("password","Password"),c=Object(n.useState)(""),l=Object(s.a)(c,2),u=l[0],i=l[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),p=d[0],g=d[1],E=Object(n.useState)(""),v=Object(s.a)(E,2),h=v[0],N=v[1];return r.a.createElement("div",{className:ke.a.container},r.a.createElement("div",{className:ke.a.image}),r.a.createElement("form",{onSubmit:function(n){var r,c,s,l,u;return f.a.async((function(_){for(;;)switch(_.prev=_.next){case 0:if(n.preventDefault(),r=!1,t.attributes.value.length<3&&(i("Name must be at least 3 characters."),r=!0),a.attributes.value.length<5&&(g("Email must be at least 5 characters."),r=!0),o.attributes.value.length<5&&(N("Password must be at least 5 characters."),r=!0),!r){_.next=10;break}return setTimeout((function(){return i("")}),4e3),setTimeout((function(){return g("")}),4e3),setTimeout((function(){return N("")}),4e3),_.abrupt("return");case 10:return c={name:t.attributes.value,email:a.attributes.value,password:o.attributes.value},_.prev=11,_.next=14,f.a.awrap($(c));case 14:s=_.sent,l=s.user,u=s.token,e.user_login(l),window.localStorage.setItem("token",u),window.localStorage.setItem("user",JSON.stringify(l)),e.message_update("Welcome to BlogWorld ".concat(l.name,".")),setTimeout((function(){return e.message_update("")}),3e3),e.history.push("/"),_.next=31;break;case 25:_.prev=25,_.t0=_.catch(11),console.log(_.t0),t.reset(),a.reset(),o.reset();case 31:case"end":return _.stop()}}),null,null,[[11,25]])},className:ke.a.form},r.a.createElement("input",Object.assign({},t.attributes,{className:ke.a.form__field})),r.a.createElement("input",Object.assign({},a.attributes,{className:ke.a.form__field})),r.a.createElement("input",Object.assign({},o.attributes,{className:ke.a.form__field})),u&&r.a.createElement("p",{className:ke.a.validationError},u),p&&r.a.createElement("p",{className:ke.a.validationError},p),h&&r.a.createElement("p",{className:ke.a.validationError},h),r.a.createElement("button",{type:"submit",value:"Register",className:"".concat(ke.a.form__button," ").concat(ke.a.form__button__login)},"Register")),r.a.createElement("p",null,"Already have an account? ",r.a.createElement("span",{className:ke.a.bold},r.a.createElement(_.b,{to:"/login",className:ke.a.link},"Login"))))})),ye=(a(53),a(33)),Te=a.n(ye),Ce=(a(98),a(9)),Be=a.n(Ce),De=function(){return{type:"TOGGLE_SIDEBAR"}},Ue=function(){return{type:"CLOSE_SIDEBAR"}},Ie={user_logout:h,closeSidebar:Ue},Le=Object(i.b)((function(e){return{user:e.user}}),Ie)(Object(m.g)((function(e){return r.a.createElement("nav",{className:Be.a.container},r.a.createElement("div",{className:Be.a.menuStats},r.a.createElement("div",{className:Be.a.profile},r.a.createElement("div",{className:Be.a.profile__image}),r.a.createElement("div",{className:Be.a.profile__name},r.a.createElement("h4",{className:Be.a.profile__name__user},r.a.createElement("span",{className:Be.a.profile__name__thin},"Hi, "),e.user.name))),r.a.createElement("div",{className:Be.a.links},r.a.createElement(_.b,{to:"/blogs/new",className:Be.a.links__link,onClick:e.closeSidebar},"New Post"),r.a.createElement(_.b,{to:"/",className:Be.a.links__link,onClick:e.closeSidebar},"Blogs")),r.a.createElement("div",{className:Be.a.stats},r.a.createElement("div",{className:Be.a.stats__item},r.a.createElement("p",null,"Blog Count:"),r.a.createElement("p",null,e.user.blogs.length)),r.a.createElement("div",{className:Be.a.stats__item},r.a.createElement("p",null,"Liked Count:"),r.a.createElement("p",null,e.user.likedBlogs.length)),r.a.createElement("div",{className:Be.a.stats__item},r.a.createElement("p",null,"Following Count:"),r.a.createElement("p",null,e.user.followedUsers.length)))),r.a.createElement("button",{className:Be.a.logout,onClick:function(){window.localStorage.removeItem("user"),window.localStorage.removeItem("token"),e.user_logout(),e.closeSidebar(),e.history.push("/")}},"Sign Out"))}))),Re=a(58);function Fe(){var e=Object(Re.a)(["\n\twidth: 100px;\n\tfont-size: 1.2rem;\n\tfont-weight: 700;\n\ttext-transform: uppercase;\n\tbackground-color: #ccc;\n\talign-self: stretch;\n"]);return Fe=function(){return e},e}a(59).a.button(Fe());var Ae=a(62),Pe=a.n(Ae),Ge={user_logout:h},Me=(Object(i.b)((function(e){return{user:e.user}}),Ge)((function(e){var t=e.user;e.user_logout;return t?r.a.createElement(_.b,{to:"/users/".concat(t.id),className:Pe.a.username},t.name):r.a.createElement(Te.a,{style:{fontSize:"8px"},isOpen:!1})})),a(63)),We=a.n(Me),Je={updateFilter:function(e){return{type:"UPDATE_FILTER",payload:e}}},Ze=Object(i.b)((function(e){return{filter:e.filter}}),Je)((function(e){var t=e.filter,a=e.updateFilter;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",id:"filter",value:t,onChange:function(e){return a(e.target.value)},className:We.a.filterField,placeholder:"Search"}))})),ze=a(17),Ye=a.n(ze),Ke={toggleSidebar:De},qe=Object(i.b)((function(e){return{isOpen:e.isSidebarOpen,user:e.user}}),Ke)((function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){e.setBurgerRef(t)}),[]),r.a.createElement("header",{className:Ye.a.header},r.a.createElement("div",{className:Ye.a.container},r.a.createElement("div",{className:Ye.a.logo},r.a.createElement(_.b,{to:"/",className:Ye.a.link},"TIL")),r.a.createElement(Ze,null),r.a.createElement("div",{ref:t,className:e.user?Ye.a.menu:Ye.a.menu__responsive},r.a.createElement(Te.a,{className:Ye.a.menu__burger,isOpen:e.isOpen,onClick:e.toggleSidebar})),r.a.createElement("nav",{className:e.user?Ye.a.hide:Ye.a.nav},r.a.createElement(_.b,{to:"/login",className:Ye.a.button__link},"Login"),r.a.createElement(_.b,{to:"/register",className:Ye.a.button__link},"Register"))))})),Ve=function(){return r.a.createElement("footer",null)},Xe=a(64),He=a.n(Xe),Qe=(Object(i.b)((function(e){return{user:e.user}}))((function(e){var t=e.user;return console.log(t),r.a.createElement("div",{className:He.a.container},r.a.createElement("p",null,"Liked Blogs: ",t.likedBlogs.length))})),a(10)),$e=a.n(Qe),et={toggleSidebar:De,closeSidebar:Ue},tt=Object(i.b)((function(e){return{isOpen:e.isSidebarOpen,user:e.user}}),et)((function(e){var t=Object(n.useRef)(),a=function(a){e.burgerRef.current.firstChild!==a.target&&t.current&&!t.current.contains(a.target)&&e.closeSidebar()};return Object(n.useEffect)((function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}})),r.a.createElement("div",{ref:t,className:"".concat($e.a.sidebar," ").concat(e.isOpen?$e.a.show:null," ").concat(e.user?$e.a.reducedWidth:null)},e.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(Le,null)):r.a.createElement("div",{className:$e.a.container},r.a.createElement("div",{className:$e.a.text},r.a.createElement("h4",{className:$e.a.text__title},"Welcome to TIL"),r.a.createElement("p",{className:$e.a.text__content},"We're a community of aspiring developers sharing our knowledge and experience hoping that someone will walk away learning something new.")),r.a.createElement("div",{className:$e.a.buttons,onClick:e.toggleSidebar},r.a.createElement("button",{className:"".concat($e.a.button," ").concat($e.a.button___green)},r.a.createElement(_.b,{to:"/login",className:$e.a.button__link},"Login")),r.a.createElement("button",{className:"".concat($e.a.button," ").concat($e.a.button___light)},r.a.createElement(_.b,{to:"/register",className:$e.a.button__link},"Register")))))})),at={user_login:v,blogs_init:U},nt=Object(i.b)((function(e){return{user:e.user,isOpen:e.isSidebarOpen}}),at)((function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),o=a[0],c=a[1];return Object(n.useEffect)((function(){var t=window.localStorage.getItem("user");t&&e.user_login(JSON.parse(t)),j().then((function(t){e.blogs_init(t)}))}),[]),r.a.createElement(_.a,null,r.a.createElement("div",{className:u.a.container},r.a.createElement(qe,{setBurgerRef:c}),r.a.createElement("div",{className:"".concat(u.a.main," ").concat(e.isOpen?u.a.fixedPosition:"")},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:H}),r.a.createElement(m.b,{exact:!0,path:"/users",component:ne}),r.a.createElement(m.b,{exact:!0,path:"/blogs",component:H}),r.a.createElement(m.b,{exact:!0,path:"/register",component:je}),r.a.createElement(m.b,{path:"/login",render:function(){return e.user?r.a.createElement(m.a,{to:"/"}):r.a.createElement(k,null)}}),r.a.createElement(m.b,{path:"/blogs/new",render:function(t){return e.user?r.a.createElement(Oe,t):r.a.createElement(m.a,{to:"/"})}}),r.a.createElement(m.b,{path:"/users/:id",component:re}),r.a.createElement(m.b,{exact:!0,path:"/blogs/:id/edit",component:ve}),r.a.createElement(m.b,{path:"/blogs/:id",component:be}),r.a.createElement(m.b,{component:Q})),r.a.createElement(tt,{burgerRef:o})),r.a.createElement(Ve,null)))})),rt=a(29),ot=Object(rt.b)({user:N,blogs:F,message:P,filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_FILTER":return t.payload;default:return e}},isSidebarOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_SIDEBAR":return!e;case"CLOSE_SIDEBAR":return!1;default:return e}}}),ct=Object(rt.c)(ot);c.a.render(r.a.createElement(i.a,{store:ct},r.a.createElement(nt,null)),document.getElementById("root"))},12:function(e,t,a){e.exports={container:"register_container__1j-3H",image:"register_image__3TRaK",form:"register_form__3dgpP",form__field:"register_form__field__1eKyV",form__button:"register_form__button__-odaS",bold:"register_bold__3BFmw",link:"register_link__1RSaf",validationError:"register_validationError__3Iy0n"}},16:function(e,t,a){e.exports={container:"login_container__2X9PK",image:"login_image__1AiCp",heading:"login_heading__3KtmN",heading__bold:"login_heading__bold__22Vg5",form:"login_form__2PLRu",form__field:"login_form__field__3CzoO",form__button:"login_form__button__D6UIy",bold:"login_bold__ZI4Nt",link:"login_link__26kum",validationError:"login_validationError__3-kqB"}},17:function(e,t,a){e.exports={header:"header_header__3fn4i",container:"header_container__1p_To",logo:"header_logo__14tHM",menu:"header_menu__5m-DF",menu__burger:"header_menu__burger__1Ttem",menu__responsive:"header_menu__responsive__1CzeE",menu__responsive__burger:"header_menu__responsive__burger__1ouWv",link:"header_link__3Qf43",nav:"header_nav__3OwU2",hide:"header_hide__NVi7G"}},18:function(e,t,a){e.exports={content:"blogitem_content__2hU47",content__image:"blogitem_content__image__2_OwN",text__date:"blogitem_text__date__3PuPL",text__title:"blogitem_text__title__3vAaI",text__content:"blogitem_text__content__2E9_Z",text__author:"blogitem_text__author__2KkZF",stats:"blogitem_stats__1MOOu",stats__likes:"blogitem_stats__likes__3D4Zy",stats__commentCount:"blogitem_stats__commentCount__1oZRY"}},20:function(e,t,a){e.exports={container:"blogedit_container__2usZc",form:"blogedit_form__2d9UO",form__file:"blogedit_form__file__GfRCT",form__file__label:"blogedit_form__file__label__3A2gG",form__content:"blogedit_form__content__SARoq",form__button:"blogedit_form__button__BBE5U",message:"blogedit_message__y2jEy",validationError:"blogedit_validationError__1kOTY"}},21:function(e,t,a){e.exports={container:"newblog_container__VUhQU",form:"newblog_form__YKZ_-",form__file:"newblog_form__file__4_5Z5",form__file__label:"newblog_form__file__label__CLfGS",form__content:"newblog_form__content__9qbpi",form__button:"newblog_form__button__33k4H",message:"newblog_message__2Sxz8",validationError:"newblog_validationError__2BjM1"}},25:function(e,t,a){e.exports={container:"comments_container___gqop",item:"comments_item__hJxOv",authorDate:"comments_authorDate__1FMV_"}},26:function(e,t,a){e.exports={container:"commentlist_container__2YbmO",form:"commentlist_form__2hf5g",form__content:"commentlist_form__content__PwMvL",form__button:"commentlist_form__button__h5MVS",validationError:"commentlist_validationError__3aP9N"}},34:function(e,t,a){e.exports={container:"app_container__3FwrV",main:"app_main__1NOZK",fixedPosition:"app_fixedPosition__1KJpp"}},40:function(e,t,a){e.exports={container:"bloglist_container__VIv8d",blog:"bloglist_blog__18bdB"}},56:function(e,t,a){e.exports={message:"dashboard_message__2ze2W"}},57:function(e,t,a){},62:function(e,t,a){e.exports={username:"loggedinuser_username__2vaOT",login:"loggedinuser_login__2AN7t"}},63:function(e,t,a){e.exports={filterField:"filter_filterField__2oh5H"}},64:function(e,t,a){},67:function(e,t,a){e.exports=a(101)},7:function(e,t,a){e.exports={container:"blog_container__1yngQ",content:"blog_content__3Mdwr",content__title:"blog_content__title__1KPYd",content__image:"blog_content__image__3vx0v",content__date:"blog_content__date__2W8o9",content__authorTime:"blog_content__authorTime__3UoGz",content__content:"blog_content__content__2CJUX",likes:"blog_likes__2wpbo",likes__text:"blog_likes__text__1XXJj",actions:"blog_actions__38f5o",actions__follow:"blog_actions__follow__yuHh8",actions__save:"blog_actions__save__3T0XJ",actions__like:"blog_actions__like__1-Tvs",actions__edit:"blog_actions__edit__3FSGp",actions__delete:"blog_actions__delete__dgAIf",none:"blog_none__2awqw"}},72:function(e,t,a){},9:function(e,t,a){e.exports={container:"navmenu_container__2wo4C",menuStats:"navmenu_menuStats__kQ_sW",profile:"navmenu_profile__2WvcC",profile__image:"navmenu_profile__image__2d4Wc",profile__name__thin:"navmenu_profile__name__thin__5HZwF",profile__name__user:"navmenu_profile__name__user__1efZ1",profile__name__status:"navmenu_profile__name__status__23xlR",links:"navmenu_links__1OFMz",links__link:"navmenu_links__link__m0tyZ",stats__item:"navmenu_stats__item__XOSZo",logout:"navmenu_logout__1Ym0e"}},94:function(e,t,a){e.exports=a.p+"static/media/multi-color.b59a81c5.jpg"},96:function(e,t,a){e.exports=a.p+"static/media/bolt2.4305a5f7.svg"}},[[67,1,2]]]);
//# sourceMappingURL=main.5c7ff3f0.chunk.js.map