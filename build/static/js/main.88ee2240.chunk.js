(this.webpackJsonpfinal_frontend=this.webpackJsonpfinal_frontend||[]).push([[0],{10:function(e,t,a){e.exports={sidebar:"sidebar_sidebar__2UqRw",reducedWidth:"sidebar_reducedWidth__18WAP",show:"sidebar_show__2_qeQ",login:"sidebar_login__2XVpq",separator:"sidebar_separator__2mNNd",container:"sidebar_container__1TYtp",text:"sidebar_text__L6eD-",text__title:"sidebar_text__title__3hJK_",text__content:"sidebar_text__content__1qes2",buttons:"sidebar_buttons__1jQc9",button:"sidebar_button__1U7Fy",button___green:"sidebar_button___green__3UXtY",button___light:"sidebar_button___light__3-YD3",button__link:"sidebar_button__link__3ksTB"}},15:function(e,t,a){e.exports={blog__image:"blogitem_blog__image__1qjAy",blog__text:"blogitem_blog__text__rmAtE",text__date:"blogitem_text__date__3PuPL",text__title:"blogitem_text__title__3vAaI",text__content:"blogitem_text__content__2E9_Z",text__author:"blogitem_text__author__2KkZF",stats:"blogitem_stats__1MOOu",stats__likes:"blogitem_stats__likes__3D4Zy",stats__commentCount:"blogitem_stats__commentCount__1oZRY"}},16:function(e,t,a){e.exports={header:"header_header__3fn4i",container:"header_container__1p_To",logo:"header_logo__14tHM",menu:"header_menu__5m-DF",menu__burger:"header_menu__burger__1Ttem",menu__responsive:"header_menu__responsive__1CzeE",menu__responsive__burger:"header_menu__responsive__burger__1ouWv",link:"header_link__3Qf43",nav:"header_nav__3OwU2",hide:"header_hide__NVi7G"}},17:function(e,t,a){e.exports={container:"register_container__1j-3H",image:"register_image__3TRaK",form:"register_form__3dgpP",form__field:"register_form__field__1eKyV",form__button:"register_form__button__-odaS",bold:"register_bold__3BFmw",link:"register_link__1RSaf"}},19:function(e,t,a){e.exports={container:"login_container__2X9PK",image:"login_image__1AiCp",heading:"login_heading__3KtmN",heading__bold:"login_heading__bold__22Vg5",form:"login_form__2PLRu",form__field:"login_form__field__3CzoO",form__button:"login_form__button__D6UIy",bold:"login_bold__ZI4Nt",link:"login_link__26kum"}},23:function(e,t,a){e.exports={container:"comments_container___gqop",item:"comments_item__hJxOv",authorDate:"comments_authorDate__1FMV_"}},24:function(e,t,a){e.exports={container:"newblog_container__VUhQU",form:"newblog_form__YKZ_-",form__file:"newblog_form__file__4_5Z5",form__file__label:"newblog_form__file__label__CLfGS",form__content:"newblog_form__content__9qbpi",form__button:"newblog_form__button__33k4H"}},30:function(e,t,a){e.exports={container:"commentlist_container__2YbmO",form:"commentlist_form__2hf5g",form__content:"commentlist_form__content__PwMvL",form__button:"commentlist_form__button__h5MVS"}},36:function(e,t,a){e.exports={container:"app_container__3FwrV",main:"app_main__1NOZK"}},40:function(e,t,a){e.exports={container:"bloglist_container__VIv8d",blog:"bloglist_blog__18bdB"}},56:function(e,t,a){},6:function(e,t,a){e.exports={container:"blog_container__1yngQ",content:"blog_content__3Mdwr",content__title:"blog_content__title__1KPYd",content__image:"blog_content__image__3vx0v",content__date:"blog_content__date__2W8o9",content__authorTime:"blog_content__authorTime__3UoGz",content__content:"blog_content__content__2CJUX",likes:"blog_likes__2wpbo",likes__text:"blog_likes__text__1XXJj",actions:"blog_actions__38f5o",actions__follow:"blog_actions__follow__yuHh8",actions__save:"blog_actions__save__3T0XJ",actions__like:"blog_actions__like__1-Tvs",none:"blog_none__2awqw"}},60:function(e,t,a){e.exports={username:"loggedinuser_username__2vaOT",login:"loggedinuser_login__2AN7t"}},61:function(e,t,a){e.exports={filterField:"filter_filterField__2oh5H"}},62:function(e,t,a){},65:function(e,t,a){e.exports=a(99)},70:function(e,t,a){},9:function(e,t,a){e.exports={container:"navmenu_container__2wo4C",menuStats:"navmenu_menuStats__kQ_sW",profile:"navmenu_profile__2WvcC",profile__image:"navmenu_profile__image__2d4Wc",profile__name__thin:"navmenu_profile__name__thin__5HZwF",profile__name__user:"navmenu_profile__name__user__1efZ1",profile__name__status:"navmenu_profile__name__status__23xlR",links:"navmenu_links__1OFMz",links__link:"navmenu_links__link__m0tyZ",stats__item:"navmenu_stats__item__XOSZo",logout:"navmenu_logout__1Ym0e"}},92:function(e,t,a){e.exports=a.p+"static/media/multi-color.b59a81c5.jpg"},94:function(e,t,a){e.exports=a.p+"static/media/bolt2.4305a5f7.svg"},99:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(31),c=a.n(o),l=(a(70),a(7)),s=a(36),u=a.n(s),i=a(3),_=a(5),m=a(21),f=a(1),d=a.n(f),b=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=Object(n.useState)(a),o=Object(l.a)(r,2),c=o[0],s=o[1],u=function(e){s(e.target.value)},i=function(){s(a)};return{attributes:{type:e,placeholder:t,value:c,onChange:u},reset:i}},p=a(8),g=a.n(p),E=function(e){var t;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.a.awrap(g.a.post("/login",e));case 3:return t=a.sent,a.abrupt("return",t.data);case 7:throw a.prev=7,a.t0=a.catch(0),a.t0.response.data;case 10:case"end":return a.stop()}}),null,null,[[0,7]])},v=function(e){return{type:"USER_LOGIN",payload:e}},h=function(){return{type:"USER_LOGOUT"}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":case"USER_UPDATE":return t.payload;case"USER_LOGOUT":return null;default:return e}},N=a(19),O=a.n(N),x=(a(92),{user_login:v}),k=Object(i.b)(null,x)((function(e){var t=b("text","Email"),a=b("password","Password");return r.a.createElement("div",{className:O.a.container},r.a.createElement("div",{className:O.a.image}),r.a.createElement("form",{onSubmit:function(n){var r,o,c;return d.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n.preventDefault(),l.prev=1,l.next=4,d.a.awrap(E({email:t.attributes.value,password:a.attributes.value}));case 4:r=l.sent,o=r.user,c=r.token,e.user_login(o),"Bearer ".concat(c),window.localStorage.setItem("token",c),window.localStorage.setItem("user",JSON.stringify(o)),l.next=18;break;case 13:l.prev=13,l.t0=l.catch(1),console.log(l.t0),t.reset(),a.reset();case 18:case"end":return l.stop()}}),null,null,[[1,13]])},className:O.a.form},r.a.createElement("input",Object.assign({},t.attributes,{className:O.a.form__field})),r.a.createElement("input",Object.assign({},a.attributes,{className:O.a.form__field})),r.a.createElement("button",{type:"submit",value:"Login",className:"".concat(O.a.form__button," ").concat(O.a.form__button__login)},"Login")),r.a.createElement("p",null,"Don't have an account? ",r.a.createElement("span",{className:O.a.bold},r.a.createElement(_.b,{to:"/register",className:O.a.link},"Register"))))})),y="/api/blogs",S=function(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.awrap(g.a.get(y));case 3:return e=t.sent,t.abrupt("return",e.data);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0.message;case 10:case"end":return t.stop()}}),null,null,[[0,7]])},j=function(e){var t,a;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("token"))}},n.prev=1,n.next=4,d.a.awrap(g.a.post(y,e,t));case 4:return a=n.sent,n.abrupt("return",a.data);case 8:throw n.prev=8,n.t0=n.catch(1),n.t0.response.data.error;case 11:case"end":return n.stop()}}),null,null,[[1,8]])},C=function(e){var t,a;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t="".concat(y,"/").concat(e.id),n.prev=1,n.next=4,d.a.awrap(g.a.put(t,e));case 4:return a=n.sent,n.abrupt("return",a.data);case 8:throw n.prev=8,n.t0=n.catch(1),n.t0.message;case 11:case"end":return n.stop()}}),null,null,[[1,8]])},T=a(28),L=function(e){return{type:"BLOGS_INIT",payload:e}},D=function(e){return{type:"BLOGS_ADD",payload:e}},I=function(e){return{type:"BLOGS_UPDATE",payload:e}},B=function(e){return{type:"BLOGS_DELETE",id:e}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BLOGS_INIT":return Object(T.a)(t.payload);case"BLOGS_ADD":return[].concat(Object(T.a)(e),[t.payload]);case"BLOGS_UPDATE":var a=e.findIndex((function(e){return e.id===t.payload.id}));return e.slice(0,a).concat(t.payload).concat(e.slice(a+1));case"BLOGS_DELETE":return e.filter((function(e){return e.id!==t.id}));default:return e}},R=function(e){return{type:"MESSAGE_UPDATE",payload:e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MESSAGE_UPDATE":return t.payload;default:return e}},A=a(29),G=a(15),P=a.n(G),M={blogs_update:I,blogs_delete:B},W=Object(i.b)((function(e){return{user:e.user}}),M)((function(e){var t=e.blog,a=t.id,n=t.title,o=t.content,c=t.author,l=t.likes,s=t.pictureUrl,u=t.comments,i=(t.readTime,t.updatedAt);e.user;return r.a.createElement("div",{className:P.a.blog},r.a.createElement("div",{className:P.a.content},s&&r.a.createElement(_.b,{to:"/blogs/".concat(a)},r.a.createElement("img",{src:s,alt:"image",className:P.a.blog__image})),r.a.createElement("div",{className:P.a.blog__text},r.a.createElement("p",{className:P.a.text__date},function(e){if(e){var t=new Date(e);return"".concat(t.getMonth()+1,".").concat(t.getDate(),".").concat(t.getFullYear())}}(i)),r.a.createElement("p",null,r.a.createElement(_.b,{to:"/blogs/".concat(a),className:P.a.text__title},n)),r.a.createElement("p",{className:P.a.text__content},function(e){return e.length>100?"".concat(e.slice(0,100),"..."):e}(o)),r.a.createElement("p",{className:P.a.text__author},"by ",c.name))),r.a.createElement("div",{className:P.a.stats},r.a.createElement("p",{className:P.a.stats__likes},"Likes ",l),r.a.createElement("p",{className:P.a.stats__commentCount},"Comments ",u.length)))})),J=a(40),Z=a.n(J),Y={blogs_init:L,blogs_add:D,message_update:R},K=Object(i.b)((function(e){return{user:e.user,blogs:e.blogs,message:e.message,filter:e.filter}}),Y)((function(e){return Object(n.useEffect)((function(){S().then((function(t){e.blogs_init(t)}))}),[]),r.a.createElement("ul",{className:Z.a.container},(t=e.blogs,a=e.filter,t.filter((function(e){return e.title.includes(a)})).map((function(e){return r.a.createElement("li",{key:e.id,className:Z.a.blog},r.a.createElement(W,{blog:e}))}))));var t,a})),V=Object(i.b)((function(e){return{message:e.message}}))((function(e){return r.a.createElement(r.a.Fragment,null,e.message?r.a.createElement("p",null,e.message):null,r.a.createElement(K,null))})),q=function(){return r.a.createElement("h1",null,"Not Found")},z=function(e){var t;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.a.awrap(g.a.post("".concat("/api/users"),e));case 3:return t=a.sent,a.abrupt("return",t.data);case 7:throw a.prev=7,a.t0=a.catch(0),a.t0.response.data;case 10:case"end":return a.stop()}}),null,null,[[0,7]])},X=function(e){var t,a,n;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t={headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("token"))}},a=JSON.parse(window.localStorage.getItem("user")).id,r.prev=2,r.next=5,d.a.awrap(g.a.patch("".concat("/api/users","/").concat(a),e,t));case 5:return n=r.sent,r.abrupt("return",n.data);case 9:throw r.prev=9,r.t0=r.catch(2),r.t0.response.data;case 12:case"end":return r.stop()}}),null,null,[[2,9]])},H=a(56),Q=a.n(H),$=Object(i.b)((function(e){return{user:e.user}}))((function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)((function(){(function(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(g.a.get("/api/users"));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))})().then((function(e){return o(e)}))}),[]);return r.a.createElement("div",{className:Q.a.container},r.a.createElement("h1",null,"Users"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Users"),r.a.createElement("th",null,"Blogs Created"))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(_.b,{to:"/users/".concat(e.id)},e.name)),r.a.createElement("td",null,e.blogs.length))})))))})),ee=function(e){var t=Object(n.useState)(null),a=Object(l.a)(t,2),o=a[0],c=a[1];console.log(o),Object(n.useEffect)((function(){(function(e){var t;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.a.awrap(g.a.get("".concat("/api/users","/").concat(e)));case 3:return t=a.sent,a.abrupt("return",t.data);case 7:throw a.prev=7,a.t0=a.catch(0),a.t0.response.data;case 10:case"end":return a.stop()}}),null,null,[[0,7]])})(e.match.params.id).then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}),[]);return o?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,o.name,"'s Blogs"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Content"),r.a.createElement("th",null,"Likes"))),r.a.createElement("tbody",null,o.blogs.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.content),r.a.createElement("td",null,e.likes))}))))):r.a.createElement("h1",null,"Loading")},te=a(23),ae=a.n(te),ne=function(e){var t=e.comments;return r.a.createElement("ul",{className:ae.a.container},t.map((function(e){return r.a.createElement("li",{key:e.id,className:ae.a.item},r.a.createElement("div",{className:ae.a.authorDate},r.a.createElement("p",{className:ae.a.item__author},e.author.name),r.a.createElement("p",{className:ae.a.item__date},function(e){if(e){var t=new Date(e);return"".concat(t.getMonth()+1,".").concat(t.getDate(),".").concat(t.getFullYear())}}(e.date))),r.a.createElement("p",{className:ae.a.item__content},e.comment))})))},re=function(e,t){var a;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(g.a.post("/api/blogs/".concat(e,"/comments"),t));case 2:return a=n.sent,n.abrupt("return",a.data);case 4:case"end":return n.stop()}}))},oe=a(30),ce=a.n(oe),le=Object(i.b)((function(e){return{user:e.user}}))((function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),o=a[0],c=a[1],s=b(null,"Comment");Object(n.useEffect)((function(){(function(e){var t;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.awrap(g.a.get("/api/blogs/".concat(e,"/comments")));case 2:return t=a.sent,a.abrupt("return",t.data);case 4:case"end":return a.stop()}}))})(e.id).then((function(e){c(e)}))}),[]);return r.a.createElement("div",{className:ce.a.container},r.a.createElement(ne,{comments:o}),e.user&&r.a.createElement("form",{onSubmit:function(t){var a,n;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),a={comment:s.attributes.value,author:e.user.id,authorName:e.user.name},s.reset(),r.prev=3,r.next=6,d.a.awrap(re(e.id,a));case 6:(n=r.sent).author={id:n.author,name:e.user.name},c((function(e){return[].concat(Object(T.a)(e),[n])})),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),console.log(r.t0.message);case 14:case"end":return r.stop()}}),null,null,[[3,11]])},className:ce.a.form},r.a.createElement("textarea",Object.assign({},s.attributes,{className:ce.a.form__content})),r.a.createElement("button",{type:"submit",className:ce.a.form__button},"Post Comment")))})),se=a(6),ue=a.n(se),ie=(a(94),{blogs_update:I,blogs_delete:B,user_update:function(e){return{type:"USER_UPDATE",payload:e}}}),_e=Object(i.b)((function(e){return{user:e.user,blogs:e.blogs}}),ie)((function(e){var t=Object(n.useState)(null),a=Object(l.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)(!1),u=Object(l.a)(s,2),i=(u[0],u[1],Object(n.useState)("")),_=Object(l.a)(i,2),m=(_[0],_[1],Object(n.useState)("")),f=Object(l.a)(m,2),b=(f[0],f[1],e.user),p=e.user_update;Object(n.useEffect)((function(){(function(e){var t;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.a.awrap(g.a.get("".concat(y,"/").concat(e)));case 3:return t=a.sent,a.abrupt("return",t.data);case 7:throw a.prev=7,a.t0=a.catch(0),a.t0.message;case 10:case"end":return a.stop()}}),null,null,[[0,7]])})(e.match.params.id).then((function(e){return c(e),C(Object(A.a)({},e,{views:e.views+1})),function(){console.log("Component has been unmounted")}}))}),[]);var E=function(e,t){var a;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return(a=Object(A.a)({},e)).likes="INCREMENT"===t?a.likes+1:a.likes-1,n.next=4,d.a.awrap(C(a));case 4:a=n.sent,c(a);case 6:case"end":return n.stop()}}))},v=function(e){var t;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.awrap(X(e));case 2:t=a.sent,p(t),window.localStorage.setItem("user",JSON.stringify(t));case 5:case"end":return a.stop()}}))},h=function(e){return{op:"$push",field:"followedUsers",value:e}},w=function(e){return{op:"$pull",field:"followedUsers",value:e}},N=function(e){return{op:"$push",field:"savedBlogs",value:e}},O=function(e){return{op:"$pull",field:"savedBlogs",value:e}},x=function(e){return{op:"$push",field:"likedBlogs",value:e}},k=function(e){return{op:"$pull",field:"likedBlogs",value:e}};return o&&r.a.createElement("div",{className:ue.a.container},r.a.createElement("div",{className:ue.a.content},o.pictureUrl&&r.a.createElement("img",{src:o.pictureUrl,className:ue.a.content__image}),r.a.createElement("p",{className:ue.a.content__date},function(e){if(e){var t=new Date(e);return"".concat(t.getMonth()+1,".").concat(t.getDate(),".").concat(t.getFullYear())}}(o.updatedAt)),r.a.createElement("h1",{className:ue.a.content__title},o.title),r.a.createElement("div",{className:ue.a.content__authorTime},r.a.createElement("p",{className:ue.a.content__authorTime__author},"By ",o.author.name),r.a.createElement("p",{className:ue.a.content__authorTime__time},o.readTime," min read")),r.a.createElement("p",{className:ue.a.content__content},o.content)),r.a.createElement("div",{className:ue.a.likes},r.a.createElement("p",{className:ue.a.likes__text},o.likes," ",r.a.createElement("span",{className:ue.a.likes__bold},"likes"))),r.a.createElement("div",{className:"".concat(b&&b.id!==o.author.id?ue.a.actions:ue.a.none)},b&&b.id!==o.author.id&&function(e){if(b)return-1===b.followedUsers.findIndex((function(t){return t===e}))?r.a.createElement("button",{onClick:function(){return v(h(e))},className:ue.a.actions__follow},"Follow"):r.a.createElement("button",{onClick:function(){return v(w(e))},className:ue.a.actions__follow},"Unfollow")}(o.author.id),b&&b.id!==o.author.id&&function(e){if(b)return-1===b.likedBlogs.findIndex((function(t){return t===e.id}))?r.a.createElement("button",{onClick:function(){v(x(e.id)),E(e,"INCREMENT")},className:ue.a.actions__like},"Like"):r.a.createElement("button",{onClick:function(){v(k(e.id)),E(e,"DECREMENT")},className:ue.a.actions__like},"Unlike")}(o),b&&b.id!==o.author.id&&function(e){if(b)return-1===b.savedBlogs.findIndex((function(t){return t===e}))?r.a.createElement("button",{onClick:function(){return v(N(e))},className:ue.a.actions__save},"Save"):r.a.createElement("button",{onClick:function(){return v(O(e))},className:ue.a.actions__save},"Unsave")}(o.id)),r.a.createElement(le,{id:o.id}))})),me=a(24),fe=a.n(me),de={blogs_add:D,message_update:R,user_logout:h},be=Object(i.b)((function(e){return{user:e.user}}),de)((function(e){var t=b("text","Title"),a=b(null,"Content"),o=Object(n.useState)(null),c=Object(l.a)(o,2),s=c[0],u=c[1],i=function(n){var r,o,c;return d.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n.preventDefault(),(r=new FormData).set("title",t.attributes.value),r.set("content",a.attributes.value),r.set("image",s),r.set("author",e.user.id),o=t.attributes.value,a.attributes.value,l.prev=8,l.next=11,d.a.awrap(j(r));case 11:c=l.sent,e.blogs_add(c),e.message_update("New Blog Created: ".concat(o)),setTimeout((function(){return e.message_update(null)}),3e3),l.next=24;break;case 17:l.prev=17,l.t0=l.catch(8),window.localStorage.removeItem("user"),window.localStorage.removeItem("token"),e.user_logout(),e.message_update("Error: ".concat(l.t0)),setTimeout((function(){return e.message_update(null)}),3e3);case 24:t.reset(),a.reset(),e.history.push("/");case 27:case"end":return l.stop()}}),null,null,[[8,17]])};return r.a.createElement("div",{className:fe.a.container},r.a.createElement("form",{onSubmit:i,className:fe.a.form},r.a.createElement("input",t.attributes),r.a.createElement("textarea",Object.assign({},a.attributes,{className:fe.a.form__content})),r.a.createElement("label",{htmlFor:"file_upload",className:fe.a.form__file__label},"Choose File"),r.a.createElement("input",{type:"file",name:"image",id:"file_upload",onChange:function(e){u(e.target.files[0])},className:fe.a.form__file}),r.a.createElement("button",{type:"submit",className:fe.a.form__button,onClick:i},"Create Post")))})),pe=a(17),ge=a.n(pe),Ee={user_login:v,message_update:R},ve=Object(i.b)(null,Ee)((function(e){var t=b("text","Name"),a=b("email","Email"),n=b("password","Password");return r.a.createElement("div",{className:ge.a.container},r.a.createElement("div",{className:ge.a.image}),r.a.createElement("form",{onSubmit:function(r){var o,c,l,s;return d.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return r.preventDefault(),o={name:t.attributes.value,email:a.attributes.value,password:n.attributes.value},u.prev=2,u.next=5,d.a.awrap(z(o));case 5:c=u.sent,l=c.user,s=c.token,e.user_login(l),window.localStorage.setItem("token",s),window.localStorage.setItem("user",JSON.stringify(l)),e.message_update("Welcome to BlogWorld ".concat(l.name,".")),setTimeout((function(){return e.message_update("")}),3e3),e.history.push("/"),u.next=22;break;case 16:u.prev=16,u.t0=u.catch(2),console.log(u.t0),t.reset(),a.reset(),n.reset();case 22:case"end":return u.stop()}}),null,null,[[2,16]])},className:ge.a.form},r.a.createElement("input",Object.assign({},t.attributes,{className:ge.a.form__field})),r.a.createElement("input",Object.assign({},a.attributes,{className:ge.a.form__field})),r.a.createElement("input",Object.assign({},n.attributes,{className:ge.a.form__field})),r.a.createElement("button",{type:"submit",value:"Register",className:"".concat(ge.a.form__button," ").concat(ge.a.form__button__login)},"Register")),r.a.createElement("p",null,"Already have an account? ",r.a.createElement("span",{className:ge.a.bold},r.a.createElement(_.b,{to:"/login",className:ge.a.link},"Login"))))})),he=(a(53),a(32)),we=a.n(he),Ne=(a(96),a(9)),Oe=a.n(Ne),xe=function(){return{type:"TOGGLE_SIDEBAR"}},ke=function(){return{type:"CLOSE_SIDEBAR"}},ye={user_logout:h,closeSidebar:ke},Se=Object(i.b)((function(e){return{user:e.user}}),ye)(Object(m.g)((function(e){return r.a.createElement("nav",{className:Oe.a.container},r.a.createElement("div",{className:Oe.a.menuStats},r.a.createElement("div",{className:Oe.a.profile},r.a.createElement("div",{className:Oe.a.profile__image}),r.a.createElement("div",{className:Oe.a.profile__name},r.a.createElement("h4",{className:Oe.a.profile__name__user},r.a.createElement("span",{className:Oe.a.profile__name__thin},"Hi, "),e.user.name))),r.a.createElement("div",{className:Oe.a.links},r.a.createElement(_.b,{to:"/blogs/new",className:Oe.a.links__link,onClick:e.closeSidebar},"New Post"),r.a.createElement(_.b,{to:"/",className:Oe.a.links__link,onClick:e.closeSidebar},"Blogs")),r.a.createElement("div",{className:Oe.a.stats},r.a.createElement("div",{className:Oe.a.stats__item},r.a.createElement("p",null,"Blog Count:"),r.a.createElement("p",null,e.user.blogs.length)),r.a.createElement("div",{className:Oe.a.stats__item},r.a.createElement("p",null,"Liked Count:"),r.a.createElement("p",null,e.user.likedBlogs.length)),r.a.createElement("div",{className:Oe.a.stats__item},r.a.createElement("p",null,"Following Count:"),r.a.createElement("p",null,e.user.followedUsers.length)))),r.a.createElement("button",{className:Oe.a.logout,onClick:function(){window.localStorage.removeItem("user"),window.localStorage.removeItem("token"),e.user_logout(),e.closeSidebar(),e.history.push("/")}},"Sign Out"))}))),je=a(57);function Ce(){var e=Object(je.a)(["\n\twidth: 100px;\n\tfont-size: 1.2rem;\n\tfont-weight: 700;\n\ttext-transform: uppercase;\n\tbackground-color: #ccc;\n\talign-self: stretch;\n"]);return Ce=function(){return e},e}a(35).a.button(Ce());var Te=a(60),Le=a.n(Te),De={user_logout:h},Ie=(Object(i.b)((function(e){return{user:e.user}}),De)((function(e){var t=e.user;e.user_logout;return t?r.a.createElement(_.b,{to:"/users/".concat(t.id),className:Le.a.username},t.name):r.a.createElement(we.a,{style:{fontSize:"8px"},isOpen:!1})})),a(61)),Be=a.n(Ie),Ue={updateFilter:function(e){return{type:"UPDATE_FILTER",payload:e}}},Re=Object(i.b)((function(e){return{filter:e.filter}}),Ue)((function(e){var t=e.filter,a=e.updateFilter;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",id:"filter",value:t,onChange:function(e){return a(e.target.value)},className:Be.a.filterField,placeholder:"Search"}))})),Fe=a(16),Ae=a.n(Fe),Ge={toggleSidebar:xe},Pe=Object(i.b)((function(e){return{isOpen:e.isSidebarOpen,user:e.user}}),Ge)((function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){e.setBurgerRef(t)}),[]),r.a.createElement("header",{className:Ae.a.header},r.a.createElement("div",{className:Ae.a.container},r.a.createElement("div",{className:Ae.a.logo},r.a.createElement(_.b,{to:"/",className:Ae.a.link},"TIL")),r.a.createElement(Re,null),r.a.createElement("div",{ref:t,className:e.user?Ae.a.menu:Ae.a.menu__responsive},r.a.createElement(we.a,{className:Ae.a.menu__burger,isOpen:e.isOpen,onClick:e.toggleSidebar})),r.a.createElement("nav",{className:e.user?Ae.a.hide:Ae.a.nav},r.a.createElement(_.b,{to:"/login",className:Ae.a.button__link},"Login"),r.a.createElement(_.b,{to:"/register",className:Ae.a.button__link},"Register"))))})),Me=function(){return r.a.createElement("footer",null)},We=a(62),Je=a.n(We),Ze=(Object(i.b)((function(e){return{user:e.user}}))((function(e){var t=e.user;return console.log(t),r.a.createElement("div",{className:Je.a.container},r.a.createElement("p",null,"Liked Blogs: ",t.likedBlogs.length))})),a(10)),Ye=a.n(Ze),Ke={toggleSidebar:xe,closeSidebar:ke},Ve=Object(i.b)((function(e){return{isOpen:e.isSidebarOpen,user:e.user}}),Ke)((function(e){var t=Object(n.useRef)(),a=function(a){e.burgerRef.current.firstChild!==a.target&&t.current&&!t.current.contains(a.target)&&e.closeSidebar()};return Object(n.useEffect)((function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}})),r.a.createElement("div",{ref:t,className:"".concat(Ye.a.sidebar," ").concat(e.isOpen?Ye.a.show:null," ").concat(e.user?Ye.a.reducedWidth:null)},e.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(Se,null)):r.a.createElement("div",{className:Ye.a.container},r.a.createElement("div",{className:Ye.a.text},r.a.createElement("h4",{className:Ye.a.text__title},"Welcome to TIL"),r.a.createElement("p",{className:Ye.a.text__content},"We're a community of aspiring developers sharing our knowledge and experience hoping that someone will walk away learning something new.")),r.a.createElement("div",{className:Ye.a.buttons,onClick:e.toggleSidebar},r.a.createElement("button",{className:"".concat(Ye.a.button," ").concat(Ye.a.button___green)},r.a.createElement(_.b,{to:"/login",className:Ye.a.button__link},"Login")),r.a.createElement("button",{className:"".concat(Ye.a.button," ").concat(Ye.a.button___light)},r.a.createElement(_.b,{to:"/register",className:Ye.a.button__link},"Register")))))})),qe={user_login:v,blogs_init:L},ze=Object(i.b)((function(e){return{user:e.user}}),qe)((function(e){var t=Object(n.useState)(null),a=Object(l.a)(t,2),o=a[0],c=a[1];return Object(n.useEffect)((function(){var t=window.localStorage.getItem("user");t&&e.user_login(JSON.parse(t)),S().then((function(t){e.blogs_init(t)}))}),[]),r.a.createElement("div",{className:u.a.container},r.a.createElement(_.a,null,r.a.createElement(Pe,{setBurgerRef:c}),r.a.createElement("div",{className:u.a.main},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:V}),r.a.createElement(m.b,{exact:!0,path:"/users",component:$}),r.a.createElement(m.b,{exact:!0,path:"/blogs",component:V}),r.a.createElement(m.b,{exact:!0,path:"/register",component:ve}),r.a.createElement(m.b,{path:"/login",render:function(){return e.user?r.a.createElement(m.a,{to:"/"}):r.a.createElement(k,null)}}),r.a.createElement(m.b,{path:"/blogs/new",render:function(t){return e.user?r.a.createElement(be,t):r.a.createElement(m.a,{to:"/"})}}),r.a.createElement(m.b,{path:"/users/:id",component:ee}),r.a.createElement(m.b,{path:"/blogs/:id",component:_e}),r.a.createElement(m.b,{component:q})),r.a.createElement(Ve,{burgerRef:o})),r.a.createElement(Me,null)))})),Xe=a(27),He=Object(Xe.b)({user:w,blogs:U,message:F,filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_FILTER":return t.payload;default:return e}},isSidebarOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_SIDEBAR":return!e;case"CLOSE_SIDEBAR":return!1;default:return e}}}),Qe=Object(Xe.c)(He);c.a.render(r.a.createElement(i.a,{store:Qe},r.a.createElement(ze,null)),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.88ee2240.chunk.js.map